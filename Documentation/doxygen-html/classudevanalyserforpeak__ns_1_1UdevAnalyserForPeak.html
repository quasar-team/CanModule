<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CanModule: udevanalyserforpeak_ns::UdevAnalyserForPeak Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CanModule
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">CanModule SW abstraction layer</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">udevanalyserforpeak_ns::UdevAnalyserForPeak Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for udevanalyserforpeak_ns::UdevAnalyserForPeak:</div>
<div class="dyncontent">
<div class="center"><img src="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak__coll__graph.png" border="0" usemap="#udevanalyserforpeak__ns_1_1UdevAnalyserForPeak_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0f9f020e963d202faff7a1a114713219"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a0f9f020e963d202faff7a1a114713219">getInstance</a> ()</td></tr>
<tr class="separator:a0f9f020e963d202faff7a1a114713219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edf6a8b32f9728aacf570a7704e560f"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a7edf6a8b32f9728aacf570a7704e560f">peakExtendedIdentifierToSocketCanDevice</a> (std::string portId)</td></tr>
<tr class="separator:a7edf6a8b32f9728aacf570a7704e560f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982db3210deb3a9483508f473af4262c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a982db3210deb3a9483508f473af4262c">showMap</a> ()</td></tr>
<tr class="separator:a982db3210deb3a9483508f473af4262c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aaf0bf3ac85c7b39a34b8c9430f99f88c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#aaf0bf3ac85c7b39a34b8c9430f99f88c">UdevAnalyserForPeak</a> ()</td></tr>
<tr class="separator:aaf0bf3ac85c7b39a34b8c9430f99f88c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2bdf74d2a78b21447fb24b2956d66c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#abe2bdf74d2a78b21447fb24b2956d66c">UdevAnalyserForPeak</a> (const <a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a> &amp;)</td></tr>
<tr class="separator:abe2bdf74d2a78b21447fb24b2956d66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9120a53396820347617a1a4eba992a97"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a9120a53396820347617a1a4eba992a97">~UdevAnalyserForPeak</a> ()</td></tr>
<tr class="separator:a9120a53396820347617a1a4eba992a97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd46c5ec27ddad48e2f32ab65b2ac2be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#acd46c5ec27ddad48e2f32ab65b2ac2be">m_createUdevPortMap</a> ()</td></tr>
<tr class="separator:acd46c5ec27ddad48e2f32ab65b2ac2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c7f266427a299185aa8999d63b381a"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#aa4c7f266427a299185aa8999d63b381a">m_peakDeviceId</a> (std::string s)</td></tr>
<tr class="separator:aa4c7f266427a299185aa8999d63b381a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398b71235631eac545a05eb0d03acfcd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a398b71235631eac545a05eb0d03acfcd">m_peakSystemDeviceIndex</a> (std::string s)</td></tr>
<tr class="separator:a398b71235631eac545a05eb0d03acfcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0570a23bb2eb7f57930ff4eb8cf7fbaf"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a0570a23bb2eb7f57930ff4eb8cf7fbaf">m_peakLocalCanPort</a> (std::string s)</td></tr>
<tr class="separator:a0570a23bb2eb7f57930ff4eb8cf7fbaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591ea665dcb445268404b113473092a1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a591ea665dcb445268404b113473092a1">m_peakDriverNumber</a> (std::string s)</td></tr>
<tr class="separator:a591ea665dcb445268404b113473092a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64bc86c641b444e6d6ccfc80d565b74f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a64bc86c641b444e6d6ccfc80d565b74f">m_peakDeviceIdFromSystemDeviceIndex</a> (unsigned int sd)</td></tr>
<tr class="separator:a64bc86c641b444e6d6ccfc80d565b74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a2b522c5a1624c408d0f1854fba53b066"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a2b522c5a1624c408d0f1854fba53b066">m_peakStructCompare</a> (<a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a> peak1, <a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a> peak2)</td></tr>
<tr class="separator:a2b522c5a1624c408d0f1854fba53b066"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a75bf7ffe8139a10addd49083a6a7ac79"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a75bf7ffe8139a10addd49083a6a7ac79">m_instance_ptr</a> = 0</td></tr>
<tr class="separator:a75bf7ffe8139a10addd49083a6a7ac79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1305c736fdc28c62cfa29144e25d7f3a"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#a1305c736fdc28c62cfa29144e25d7f3a">m_peak_v</a></td></tr>
<tr class="separator:a1305c736fdc28c62cfa29144e25d7f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacad8fc930990cc6d0d47de472022acb"><td class="memItemLeft" align="right" valign="top">static Log::LogComponentHandle&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html#aacad8fc930990cc6d0d47de472022acb">m_logItHandleSock</a> = 0</td></tr>
<tr class="separator:aacad8fc930990cc6d0d47de472022acb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00019">19</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaf0bf3ac85c7b39a34b8c9430f99f88c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf0bf3ac85c7b39a34b8c9430f99f88c">&#9670;&nbsp;</a></span>UdevAnalyserForPeak() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">udevanalyserforpeak_ns::UdevAnalyserForPeak::UdevAnalyserForPeak </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00023">23</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="CCanAccess_8h_source.html#l00059">CanModule::LogItComponentName</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>, and <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00055">m_logItHandleSock</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00034">getInstance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_aaf0bf3ac85c7b39a34b8c9430f99f88c_cgraph.png" border="0" usemap="#classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_aaf0bf3ac85c7b39a34b8c9430f99f88c_cgraph" alt=""/></div>
<!-- MAP 1 -->
</div>

</div>
</div>
<a id="abe2bdf74d2a78b21447fb24b2956d66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe2bdf74d2a78b21447fb24b2956d66c">&#9670;&nbsp;</a></span>UdevAnalyserForPeak() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">udevanalyserforpeak_ns::UdevAnalyserForPeak::UdevAnalyserForPeak </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9120a53396820347617a1a4eba992a97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9120a53396820347617a1a4eba992a97">&#9670;&nbsp;</a></span>~UdevAnalyserForPeak()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual udevanalyserforpeak_ns::UdevAnalyserForPeak::~UdevAnalyserForPeak </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">52</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0f9f020e963d202faff7a1a114713219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f9f020e963d202faff7a1a114713219">&#9670;&nbsp;</a></span>getInstance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a>* udevanalyserforpeak_ns::UdevAnalyserForPeak::getInstance </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>factory providing one singleton todo: use fancy threadsafe STATIC method </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00034">34</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00049">m_instance_ptr</a>, and <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00023">UdevAnalyserForPeak()</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00067">peakExtendedIdentifierToSocketCanDevice()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_a0f9f020e963d202faff7a1a114713219_cgraph.png" border="0" usemap="#classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_a0f9f020e963d202faff7a1a114713219_cgraph" alt=""/></div>
<!-- MAP 2 -->
</div>

</div>
</div>
<a id="acd46c5ec27ddad48e2f32ab65b2ac2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd46c5ec27ddad48e2f32ab65b2ac2be">&#9670;&nbsp;</a></span>m_createUdevPortMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void udevanalyserforpeak_ns::UdevAnalyserForPeak::m_createUdevPortMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>this is where we do the udev call and construct a local-global port map which is system wide: need to scan for all pcan device links </p>
<p>now, build the map from results1: pcan-usb_pro_fd/0/can0 pcan-usb_pro_fd/devid=9054 pcan32 pcanusbpfd32 pcan-usb_pro_fd/1/can0 pcan-usb_pro_fd/devid=8910 pcan34 pcanusbpfd34</p>
<p>and result2: pcan-usb_pro_fd/0/can1 pcan33 pcanusbpfd33 pcan-usb_pro_fd/1/can1 pcan35 pcanusbpfd35</p>
<p>now we have to sort this with key=peakDriverNumber, since that is what socketcan does when assigning the socketcan devices</p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">143</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00026">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::deviceID</a>, <a class="el" href="ExecCommand_8h_source.html#l00043">execcommand_ns::ExecCommand::getResults()</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00022">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::link</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00023">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::localCanPort</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00055">m_logItHandleSock</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">m_peak_v</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00259">m_peakDeviceId()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00218">m_peakDeviceIdFromSystemDeviceIndex()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00229">m_peakDriverNumber()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00245">m_peakLocalCanPort()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00135">m_peakStructCompare()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00271">m_peakSystemDeviceIndex()</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00025">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::peakDriverNumber</a>, and <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00024">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::systemDeviceIndex</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00023">UdevAnalyserForPeak()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_acd46c5ec27ddad48e2f32ab65b2ac2be_cgraph.png" border="0" usemap="#classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_acd46c5ec27ddad48e2f32ab65b2ac2be_cgraph" alt=""/></div>
<!-- MAP 3 -->
</div>

</div>
</div>
<a id="aa4c7f266427a299185aa8999d63b381a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4c7f266427a299185aa8999d63b381a">&#9670;&nbsp;</a></span>m_peakDeviceId()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakDeviceId </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the devids of the devices "9054" pcan-usb_pro_fd/0/can0 pcan-usb_pro_fd/devid=9054 pcan32 pcanusbpfd32 </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00259">259</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a64bc86c641b444e6d6ccfc80d565b74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64bc86c641b444e6d6ccfc80d565b74f">&#9670;&nbsp;</a></span>m_peakDeviceIdFromSystemDeviceIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakDeviceIdFromSystemDeviceIndex </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>sd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the deviceID from the system driver number </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00218">218</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">m_peak_v</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a591ea665dcb445268404b113473092a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a591ea665dcb445268404b113473092a1">&#9670;&nbsp;</a></span>m_peakDriverNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakDriverNumber </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the local socket nb of the devices: "32" pcan-usb_pro_fd/0/can0 pcan-usb_pro_fd/devid=9054 pcan32 pcanusbpfd32 </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00229">229</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a0570a23bb2eb7f57930ff4eb8cf7fbaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0570a23bb2eb7f57930ff4eb8cf7fbaf">&#9670;&nbsp;</a></span>m_peakLocalCanPort()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakLocalCanPort </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the local can port of the devices: the "0" of "can0" pcan-usb_pro_fd/0/can0 pcan-usb_pro_fd/devid=9054 pcan32 pcanusbpfd32 </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00245">245</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a2b522c5a1624c408d0f1854fba53b066"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b522c5a1624c408d0f1854fba53b066">&#9670;&nbsp;</a></span>m_peakStructCompare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakStructCompare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a>&#160;</td>
          <td class="paramname"><em>peak1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">PEAK_device_t</a>&#160;</td>
          <td class="paramname"><em>peak2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>compares structs peak1 and peak2 and returns TRUE if the peak1-&gt;peakDriverNumber is SMALLER than peak2-&gt;peakDriverNumber . </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00135">135</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00025">udevanalyserforpeak_ns::UdevAnalyserForPeak::PEAK_device_t::peakDriverNumber</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a398b71235631eac545a05eb0d03acfcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398b71235631eac545a05eb0d03acfcd">&#9670;&nbsp;</a></span>m_peakSystemDeviceIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peakSystemDeviceIndex </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the global device index "0" pcan-usb_pro_fd/0/can0 pcan-usb_pro_fd/devid=9054 pcan32 pcanusbpfd32 </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00271">271</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>.</p>

</div>
</div>
<a id="a7edf6a8b32f9728aacf570a7704e560f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edf6a8b32f9728aacf570a7704e560f">&#9670;&nbsp;</a></span>peakExtendedIdentifierToSocketCanDevice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string udevanalyserforpeak_ns::UdevAnalyserForPeak::peakExtendedIdentifierToSocketCanDevice </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>extPortId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>convert a PEAK extended portIdentifier to a socketcan device, i.e. "sock:can0:device123456" -&gt; "can2"</p>
<h2><a class="anchor" id="autotoc_md0"></a>
meaning</h2>
<p>input: <a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html#aef8fb355e35084f8719b89b7815c998f">PEAK_device_t.localCanPort</a> = 0 <a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html#ac29ee824c7e4d8441a815af4c0523f6a">PEAK_device_t.deviceID</a> = 123456</p>
<p>returns: "can2"</p>
<p>This means that the PEAK can bridge with deviceID 123456 is currently the second device in the socketcan sequence, and that we talk to the first port (locally "can0") of that device. Since the first device has (obviously) 2 can ports (globally "can0", "can1") we end up with globally "can2" which is the next in the sequence. Why do we need this? With peak bridges the socketcan device sequence depends on the USB plugin events and is therefore not deterministic. Strictly speaking on has no guarantee that "can2" [second bridge, first port] talks to the same electronics on every day, on monday it might also talk to the firs device. This stems from the fact that the peak driver does NOT publish the device ID under linux, therefore the udev system can't pick it up to provide deterministic mapping either. The fix is (1) stamp a unique deviceID into the bridge using peak tools under windows. this value is persistent and will survive a reboot. (2) under linux, use an extended peak port identifier : "sock:can0:device123456". <a class="el" href="namespaceCanModule.html">CanModule</a> remaps ports under the hood for you (3) under windows, use the brief port identifier "sock:can2" as before. If you use an extended port identifier the world will explode. But you can't, anyway, since socketcan is linux only. The peak driver for windows is better: it (seems to) take care of the device ID properly, BUT DONT ASK ME for that crap... </p>

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00067">67</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00034">getInstance()</a>, <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00055">m_logItHandleSock</a>, and <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">m_peak_v</a>.</p>

<p class="reference">Referenced by <a class="el" href="SockCanScan_8cpp_source.html#l00494">CSockCanScan::configureCanBoard()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_a7edf6a8b32f9728aacf570a7704e560f_cgraph.png" border="0" usemap="#classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_a7edf6a8b32f9728aacf570a7704e560f_cgraph" alt=""/></div>
<!-- MAP 4 -->
</div>

</div>
</div>
<a id="a982db3210deb3a9483508f473af4262c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a982db3210deb3a9483508f473af4262c">&#9670;&nbsp;</a></span>showMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void udevanalyserforpeak_ns::UdevAnalyserForPeak::showMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00118">118</a> of file <a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a>.</p>

<p class="reference">References <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00055">m_logItHandleSock</a>, and <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">m_peak_v</a>.</p>

<p class="reference">Referenced by <a class="el" href="SockCanScan_8cpp_source.html#l00494">CSockCanScan::configureCanBoard()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a75bf7ffe8139a10addd49083a6a7ac79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75bf7ffe8139a10addd49083a6a7ac79">&#9670;&nbsp;</a></span>m_instance_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a> * udevanalyserforpeak_ns::UdevAnalyserForPeak::m_instance_ptr = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00049">49</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00034">getInstance()</a>.</p>

</div>
</div>
<a id="aacad8fc930990cc6d0d47de472022acb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacad8fc930990cc6d0d47de472022acb">&#9670;&nbsp;</a></span>m_logItHandleSock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Log::LogComponentHandle udevanalyserforpeak_ns::UdevAnalyserForPeak::m_logItHandleSock = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00055">55</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00067">peakExtendedIdentifierToSocketCanDevice()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00118">showMap()</a>, and <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00023">UdevAnalyserForPeak()</a>.</p>

</div>
</div>
<a id="a1305c736fdc28c62cfa29144e25d7f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1305c736fdc28c62cfa29144e25d7f3a">&#9670;&nbsp;</a></span>m_peak_v</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structudevanalyserforpeak__ns_1_1UdevAnalyserForPeak_1_1PEAK__device__t.html">UdevAnalyserForPeak::PEAK_device_t</a> &gt; udevanalyserforpeak_ns::UdevAnalyserForPeak::m_peak_v</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UdevAnalyserForPeak_8h_source.html#l00052">52</a> of file <a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00143">m_createUdevPortMap()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00218">m_peakDeviceIdFromSystemDeviceIndex()</a>, <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00067">peakExtendedIdentifierToSocketCanDevice()</a>, and <a class="el" href="UdevAnalyserForPeak_8cpp_source.html#l00118">showMap()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>CanInterfaceImplementations/sockcan/<a class="el" href="UdevAnalyserForPeak_8h_source.html">UdevAnalyserForPeak.h</a></li>
<li>CanInterfaceImplementations/sockcan/<a class="el" href="UdevAnalyserForPeak_8cpp_source.html">UdevAnalyserForPeak.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceudevanalyserforpeak__ns.html">udevanalyserforpeak_ns</a></li><li class="navelem"><a class="el" href="classudevanalyserforpeak__ns_1_1UdevAnalyserForPeak.html">UdevAnalyserForPeak</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
