\hypertarget{classAnaCanScan}{}\doxysection{Ana\+Can\+Scan Class Reference}
\label{classAnaCanScan}\index{AnaCanScan@{AnaCanScan}}


{\ttfamily \#include $<$Ana\+Can\+Scan.\+h$>$}



Inheritance diagram for Ana\+Can\+Scan\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=217pt]{classAnaCanScan__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Ana\+Can\+Scan\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structAnaCanScan_1_1ANAGATE__PORTDEF__t}{A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classAnaCanScan_af6c27ae08034c5da64a54de29e2e875e}{Ana\+Can\+Scan}} ()
\item 
\mbox{\hyperlink{classAnaCanScan_af05ec5dfd6ac56764c6db8e721648b75}{Ana\+Can\+Scan}} (\mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}} const \&other)=delete
\item 
\mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}} \& \mbox{\hyperlink{classAnaCanScan_acf15b51af8c83b38115f83b343eaf2d6}{operator=}} (\mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}} const \&other)=delete
\item 
virtual \mbox{\hyperlink{classAnaCanScan_a2c8256b5096aa1351fbd9f3f2f717180}{$\sim$\+Ana\+Can\+Scan}} ()
\item 
virtual int \mbox{\hyperlink{classAnaCanScan_a92f73e718c24985f247e5522486aace9}{create\+Bus}} (const string name, const string parameters)
\item 
virtual bool \mbox{\hyperlink{classAnaCanScan_ad45666454318c891d7acd9fe16ae4c49}{send\+Message}} (short cob\+ID, unsigned char len, unsigned char $\ast$message, bool rtr=false)
\item 
virtual bool \mbox{\hyperlink{classAnaCanScan_a75c1a41d3e8ed31b39e2813596358472}{send\+Message}} (\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} $\ast$)
\item 
virtual bool \mbox{\hyperlink{classAnaCanScan_a345abb2f9712275425f4af8eb98cbd38}{send\+Remote\+Request}} (short cob\+ID)
\item 
virtual void \mbox{\hyperlink{classAnaCanScan_ad4576bc409a954c888a6fd7f06ca697f}{get\+Statistics}} (\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \&result)
\item 
void \mbox{\hyperlink{classAnaCanScan_a7ba68ea800d7a6837b6bc808d473323d}{statistics\+On\+Recieve}} (int)
\item 
void \mbox{\hyperlink{classAnaCanScan_af9a44b6ac914643225e2e61ca7a52f4c}{callback\+On\+Recieve}} (\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} \&)
\item 
void \mbox{\hyperlink{classAnaCanScan_a7cbad1b8b5c44282c86bfcfda5464b8f}{set\+Connect\+Wait\+Time}} (int timeout\+\_\+ms)
\item 
uint32\+\_\+t \mbox{\hyperlink{classAnaCanScan_a4c115df4a8755c0fd70030ae457af24c}{get\+Port\+Status}} ()
\item 
virtual uint32\+\_\+t \mbox{\hyperlink{classAnaCanScan_a8618662dac4627418ed9c69442f51714}{get\+Port\+Bitrate}} ()
\item 
virtual void \mbox{\hyperlink{classAnaCanScan_a0b9879988a65b60c9f9abc7c88ce6993}{set\+Reconnect\+Behavior}} (\mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} cond, \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} action)
\item 
virtual void \mbox{\hyperlink{classAnaCanScan_a6b617410ab9dcbb9c89302cc2ffd78c0}{set\+Reconnect\+Reception\+Timeout}} (unsigned int timeout)
\item 
virtual void \mbox{\hyperlink{classAnaCanScan_ae986496d224081758e5bd2eca0b343c5}{set\+Reconnect\+Failed\+Send\+Count}} (unsigned int c)
\item 
virtual \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} \mbox{\hyperlink{classAnaCanScan_a74073d663dd44148033b3d6d15428ea9}{get\+Reconnect\+Condition}} ()
\item 
virtual \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} \mbox{\hyperlink{classAnaCanScan_a6ad398dd6aec952c19165899abd48b8a}{get\+Reconnect\+Action}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::string \mbox{\hyperlink{classAnaCanScan_ad4a01934370aa2e9ee72bd31406e2752}{can\+Message\+To\+String}} (\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} \&f)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
Ana\+Int32 \mbox{\hyperlink{classAnaCanScan_aedcf208c8b79a297650bb2790884a79d}{reconnect\+This\+Port}} ()
\item 
bool \mbox{\hyperlink{classAnaCanScan_aaa001b34e6ee0a27295239f951b7b879}{send\+Error\+Code}} (Ana\+Int32)
\item 
string \mbox{\hyperlink{classAnaCanScan_a23bc4d0b7c2fbb29cc6ec513d060d56e}{ip\+Adress}} ()
\item 
int \mbox{\hyperlink{classAnaCanScan_aa7198f11bf94e97b26855fecdbcc85ed}{can\+Port\+Number}} ()
\item 
int \mbox{\hyperlink{classAnaCanScan_a9ce965955bb5eba734ed36b81945cb74}{handle}} ()
\item 
int \mbox{\hyperlink{classAnaCanScan_ad917f9cda15bbf9dd9abe6417be5a5eb}{configure\+Can\+Board}} (const string name, const string parameters)
\item 
int \mbox{\hyperlink{classAnaCanScan_a428d6c62f3a2d6b4297898593961696b}{connect\+Reception\+Handler}} ()
\item 
int \mbox{\hyperlink{classAnaCanScan_ad94121f1933d50cafa52d625ee435f6c}{open\+Can\+Port}} ()
\item 
int \mbox{\hyperlink{classAnaCanScan_af1deaf420c98dcdc4687f481fd4d9a08}{reconnect}} ()
\item 
bool \mbox{\hyperlink{classAnaCanScan_a6eec29a421ec4af879143379833ec676}{error\+Code\+To\+String}} (long error, char message\mbox{[}$\,$\mbox{]})
\item 
void \mbox{\hyperlink{classAnaCanScan_a4631538bddfbe61637ea5ed0071b780f}{stop\+Bus}} (void)
\item 
void \mbox{\hyperlink{classAnaCanScan_ae7ab2706bb4cd5e02409db38e73dbb3e}{erase\+Reception\+Handler\+From\+Map}} (Ana\+Int32 h)
\item 
std\+::string \mbox{\hyperlink{classAnaCanScan_a1425dfc20e08b545fcdf49415ac15ec9}{ana\+\_\+can\+Get\+Error\+Text}} (long error\+Code)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classAnaCanScan_a9ebdd69b0b5f2e43b152fde44dfbd543}{show\+Ana\+Can\+Scan\+Object\+Map}} ()
\item 
static int \mbox{\hyperlink{classAnaCanScan_abf8809be00bdc2f39344ec72cf66514c}{reconnect\+All\+Ports}} (string ip)
\item 
static void \mbox{\hyperlink{classAnaCanScan_a3e2635663ebdfac68591d6a0577fa951}{add\+Can\+Handle\+Of\+Port\+Ip}} (Ana\+Int32 \mbox{\hyperlink{classAnaCanScan_a9ce965955bb5eba734ed36b81945cb74}{handle}}, int port, std\+::string ip)
\item 
static void \mbox{\hyperlink{classAnaCanScan_a1b62497ac5f0edcf9895c9f8cfad6b50}{delete\+Can\+Handle\+Of\+Port\+Ip}} (int port, std\+::string ip)
\item 
static Ana\+Int32 \mbox{\hyperlink{classAnaCanScan_a7bf29c3cb20f59bca41d581e4d8c9c04}{get\+Can\+Handle\+Of\+Port\+Ip}} (int port, std\+::string ip)
\item 
static void \mbox{\hyperlink{classAnaCanScan_a04a0124990e52b55b8c1046709ccb2d9}{set\+Ip\+Reconnect\+In\+Progress}} (string ip, bool flag)
\item 
static bool \mbox{\hyperlink{classAnaCanScan_afeaf22bfd209035e9ad9ac3111c6ba65}{is\+Ip\+Reconnect\+In\+Progress}} (string ip)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classAnaCanScan_a2ef4dd0b4c07b341597382688b8a2964}{m\+\_\+can\+Port\+Number}}
\item 
string \mbox{\hyperlink{classAnaCanScan_a501c8cb87a6e4a11b526840f052ec028}{m\+\_\+can\+I\+P\+Address}}
\item 
unsigned int \mbox{\hyperlink{classAnaCanScan_ae2d7c7a9b314adffbde6eafac5a3607e}{m\+\_\+baud\+Rate}}
\item 
\mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} \mbox{\hyperlink{classAnaCanScan_a140c655eb7afe156add0edbd93ca2789}{m\+\_\+id\+Can\+Scan\+Thread}}
\item 
bool \mbox{\hyperlink{classAnaCanScan_adea6b9e3f699ae412a8fc532a3eb9a48}{m\+\_\+can\+Close\+Device}}
\item 
string \mbox{\hyperlink{classAnaCanScan_ad515df0b16ec1a2877282f54c0733a98}{m\+\_\+bus\+Name}}
\item 
string \mbox{\hyperlink{classAnaCanScan_a84c4a44bd26c3e3f21288f3abeba8326}{m\+\_\+bus\+Parameters}}
\item 
Ana\+Int32 \mbox{\hyperlink{classAnaCanScan_a581830a4a70cee6b31e3e895d669a9be}{m\+\_\+\+Ucan\+Handle}}
\item 
\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \mbox{\hyperlink{classAnaCanScan_a862310267c2415fa9afb401402fa7b57}{m\+\_\+statistics}}
\item 
Ana\+Int32 \mbox{\hyperlink{classAnaCanScan_a2ef809f84d976b6f453049a7298760fe}{m\+\_\+timeout}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static Log\+::\+Log\+Component\+Handle \mbox{\hyperlink{classAnaCanScan_a39ab4f1c865bef7349992abd4d91da1d}{st\+\_\+log\+It\+Handle\+Anagate}} = 0
\item 
static std\+::map$<$ int, \mbox{\hyperlink{structAnaCanScan_1_1ANAGATE__PORTDEF__t}{A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t}} $>$ \mbox{\hyperlink{classAnaCanScan_a71e415a2fec462b991777ca38a9797cc}{st\+\_\+can\+Handle\+Map}}
\item 
static std\+::map$<$ string, bool $>$ \mbox{\hyperlink{classAnaCanScan_a3ff66979e02a0904488365ec412fc994}{m\+\_\+reconnect\+In\+Progress\+\_\+map}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 55 of file Ana\+Can\+Scan.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classAnaCanScan_af6c27ae08034c5da64a54de29e2e875e}\label{classAnaCanScan_af6c27ae08034c5da64a54de29e2e875e}} 
\index{AnaCanScan@{AnaCanScan}!AnaCanScan@{AnaCanScan}}
\index{AnaCanScan@{AnaCanScan}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{AnaCanScan()}{AnaCanScan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Ana\+Can\+Scan\+::\+Ana\+Can\+Scan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 74 of file Ana\+Can\+Scan.\+cpp.



References Can\+Module\+::\+Can\+Statistics\+::begin\+New\+Run(), Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+failed\+Send\+Counter, m\+\_\+statistics, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+trigger\+Counter, and Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Opened().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_af6c27ae08034c5da64a54de29e2e875e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_af05ec5dfd6ac56764c6db8e721648b75}\label{classAnaCanScan_af05ec5dfd6ac56764c6db8e721648b75}} 
\index{AnaCanScan@{AnaCanScan}!AnaCanScan@{AnaCanScan}}
\index{AnaCanScan@{AnaCanScan}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{AnaCanScan()}{AnaCanScan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Ana\+Can\+Scan\+::\+Ana\+Can\+Scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}} const \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classAnaCanScan_a2c8256b5096aa1351fbd9f3f2f717180}\label{classAnaCanScan_a2c8256b5096aa1351fbd9f3f2f717180}} 
\index{AnaCanScan@{AnaCanScan}!````~AnaCanScan@{$\sim$AnaCanScan}}
\index{````~AnaCanScan@{$\sim$AnaCanScan}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{$\sim$AnaCanScan()}{~AnaCanScan()}}
{\footnotesize\ttfamily Ana\+Can\+Scan\+::$\sim$\+Ana\+Can\+Scan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Shut down can scan thread 

Definition at line 93 of file Ana\+Can\+Scan.\+cpp.



References M\+L\+O\+G\+A\+NA, and stop\+Bus().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a2c8256b5096aa1351fbd9f3f2f717180_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classAnaCanScan_a3e2635663ebdfac68591d6a0577fa951}\label{classAnaCanScan_a3e2635663ebdfac68591d6a0577fa951}} 
\index{AnaCanScan@{AnaCanScan}!addCanHandleOfPortIp@{addCanHandleOfPortIp}}
\index{addCanHandleOfPortIp@{addCanHandleOfPortIp}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{addCanHandleOfPortIp()}{addCanHandleOfPortIp()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::add\+Can\+Handle\+Of\+Port\+Ip (\begin{DoxyParamCaption}\item[{Ana\+Int32}]{handle,  }\item[{int}]{port,  }\item[{std\+::string}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

add a can handle into the map if it does not yet exist

add a new map entry to handle-\/$>$\{port, ip\} map todo\+: mutex protect, work on copy 

Definition at line 347 of file Ana\+Can\+Scan.\+cpp.



References handle(), Ana\+Can\+Scan\+::\+A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t\+::ip, Ana\+Can\+Scan\+::\+A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t\+::port, st\+\_\+can\+Handle\+Map, and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by open\+Can\+Port(), and reconnect().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a3e2635663ebdfac68591d6a0577fa951_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a1425dfc20e08b545fcdf49415ac15ec9}\label{classAnaCanScan_a1425dfc20e08b545fcdf49415ac15ec9}} 
\index{AnaCanScan@{AnaCanScan}!ana\_canGetErrorText@{ana\_canGetErrorText}}
\index{ana\_canGetErrorText@{ana\_canGetErrorText}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{ana\_canGetErrorText()}{ana\_canGetErrorText()}}
{\footnotesize\ttfamily std\+::string Ana\+Can\+Scan\+::ana\+\_\+can\+Get\+Error\+Text (\begin{DoxyParamCaption}\item[{long}]{error\+Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

give back the error message fro the code, from appendixA 

Definition at line 1024 of file Ana\+Can\+Scan.\+cpp.



References A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+C\+O\+NF, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+C\+O\+N\+F\+\_\+\+D\+A\+TA, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+C\+RC, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+H\+A\+N\+D\+LE, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+I\+N\+V\+A\+L\+I\+D\+\_\+\+D\+E\+V\+I\+C\+E\+\_\+\+T\+Y\+PE, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+N\+O\+NE, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+O\+P\+\_\+\+C\+M\+D\+\_\+\+F\+A\+I\+L\+ED, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+O\+P\+E\+N\+\_\+\+M\+A\+X\+\_\+\+C\+O\+NN, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+T\+C\+P\+I\+P\+\_\+\+C\+A\+L\+L\+N\+O\+T\+A\+L\+L\+O\+W\+ED, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+T\+C\+P\+I\+P\+\_\+\+N\+O\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+T\+C\+P\+I\+P\+\_\+\+N\+O\+T\+C\+O\+N\+N\+E\+C\+T\+ED, A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+T\+C\+P\+I\+P\+\_\+\+S\+O\+C\+K\+ET, and A\+N\+A\+\_\+\+E\+R\+R\+\_\+\+T\+C\+P\+I\+P\+\_\+\+T\+I\+M\+E\+O\+UT.



Referenced by error\+Code\+To\+String().

\mbox{\Hypertarget{classAnaCanScan_af9a44b6ac914643225e2e61ca7a52f4c}\label{classAnaCanScan_af9a44b6ac914643225e2e61ca7a52f4c}} 
\index{AnaCanScan@{AnaCanScan}!callbackOnRecieve@{callbackOnRecieve}}
\index{callbackOnRecieve@{callbackOnRecieve}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{callbackOnRecieve()}{callbackOnRecieve()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::callback\+On\+Recieve (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} \&}]{msg }\end{DoxyParamCaption})}

callback A\+PI\+: sends a boost signal with payload 

Definition at line 210 of file Ana\+Can\+Scan.\+cpp.



References Can\+Module\+::\+C\+Can\+Access\+::can\+Message\+Came, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+reconnect\+Condition, and Can\+Module\+::\+C\+Can\+Access\+::reset\+Timeout\+On\+Reception().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_af9a44b6ac914643225e2e61ca7a52f4c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_ad4a01934370aa2e9ee72bd31406e2752}\label{classAnaCanScan_ad4a01934370aa2e9ee72bd31406e2752}} 
\index{AnaCanScan@{AnaCanScan}!canMessageToString@{canMessageToString}}
\index{canMessageToString@{canMessageToString}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{canMessageToString()}{canMessageToString()}}
{\footnotesize\ttfamily std\+::string Ana\+Can\+Scan\+::can\+Message\+To\+String (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} \&}]{f }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

return a human readabale C\+AN message 

Definition at line 184 of file Ana\+Can\+Scan.\+cpp.



References Can\+Msg\+Struct\+::c\+\_\+data, Can\+Msg\+Struct\+::c\+\_\+dlc, Can\+Msg\+Struct\+::c\+\_\+id, and Can\+Msg\+Struct\+::c\+\_\+rtr.



Referenced by Internal\+Callback().

\mbox{\Hypertarget{classAnaCanScan_aa7198f11bf94e97b26855fecdbcc85ed}\label{classAnaCanScan_aa7198f11bf94e97b26855fecdbcc85ed}} 
\index{AnaCanScan@{AnaCanScan}!canPortNumber@{canPortNumber}}
\index{canPortNumber@{canPortNumber}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{canPortNumber()}{canPortNumber()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::can\+Port\+Number (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 171 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_ad917f9cda15bbf9dd9abe6417be5a5eb}\label{classAnaCanScan_ad917f9cda15bbf9dd9abe6417be5a5eb}} 
\index{AnaCanScan@{AnaCanScan}!configureCanBoard@{configureCanBoard}}
\index{configureCanBoard@{configureCanBoard}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{configureCanBoard()}{configureCanBoard()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::configure\+Can\+Board (\begin{DoxyParamCaption}\item[{const string}]{name,  }\item[{const string}]{parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

decode the name, parameter and return the port of the configured module like \char`\"{}an\+:0\+:128.\+141.\+159.\+194\char`\"{} 

Definition at line 278 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+baud\+Rate, m\+\_\+can\+I\+P\+Address, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+\+Can\+Parameters, m\+\_\+can\+Port\+Number, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+High\+Speed, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Number\+Of\+Detected\+Parameters, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Operation\+Mode, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Termination, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Time\+Stamp, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+l\+Baud\+Rate, M\+L\+O\+G\+A\+NA, open\+Can\+Port(), and Can\+Module\+::\+C\+Can\+Access\+::parse\+Name\+And\+Parameters().



Referenced by create\+Bus().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_ad917f9cda15bbf9dd9abe6417be5a5eb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a428d6c62f3a2d6b4297898593961696b}\label{classAnaCanScan_a428d6c62f3a2d6b4297898593961696b}} 
\index{AnaCanScan@{AnaCanScan}!connectReceptionHandler@{connectReceptionHandler}}
\index{connectReceptionHandler@{connectReceptionHandler}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{connectReceptionHandler()}{connectReceptionHandler()}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::connect\+Reception\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

connect the reception handler and only A\+F\+T\+ER that register the handle in the global obj. map, since reception is asynchron. Finally, in the caller, the stale handle is deleted from the map. 

Definition at line 824 of file Ana\+Can\+Scan.\+cpp.



References g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, Internal\+Callback(), m\+\_\+can\+I\+P\+Address, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+\+Can\+Parameters, m\+\_\+can\+Port\+Number, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+High\+Speed, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Operation\+Mode, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Termination, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Time\+Stamp, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+l\+Baud\+Rate, m\+\_\+\+Ucan\+Handle, and M\+L\+O\+G\+A\+NA.



Referenced by reconnect\+This\+Port().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a428d6c62f3a2d6b4297898593961696b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a92f73e718c24985f247e5522486aace9}\label{classAnaCanScan_a92f73e718c24985f247e5522486aace9}} 
\index{AnaCanScan@{AnaCanScan}!createBus@{createBus}}
\index{createBus@{createBus}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{createBus()}{createBus()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::create\+Bus (\begin{DoxyParamCaption}\item[{const string}]{name,  }\item[{const string}]{parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Method that initialises a C\+AN bus channel for anagate. All following methods called on the same object will be using this initialized channel.


\begin{DoxyParams}{Parameters}
{\em name} & 3 parameters separated by \char`\"{}\+:\char`\"{} like \char`\"{}n0\+:n1\+:n2\char`\"{} n0 = \char`\"{}an\char`\"{} for anagate n1 = port number on the module, 0=A, 1=B, etc etc n2 = ip number ex.\+: \char`\"{}an\+:can1\+:137.\+138.\+12.\+99\char`\"{} speaks to port B (=1) on anagate module at the ip ex.\+: \char`\"{}an\+:1\+:137.\+138.\+12.\+99\char`\"{} works as well\\
\hline
{\em parameters} & up to 5 parameters separated by whitespaces \+: \char`\"{}p0 p1 p2 p3 p4\char`\"{} in T\+H\+AT order, positive integers
\begin{DoxyItemize}
\item \char`\"{}\+Unspecified\char`\"{} (or empty)\+: using defaults = \char`\"{}125000 0 0 0 0\char`\"{} // all params missing
\item p0\+: bitrate\+: 10000, 20000, 50000, 62000, 100000, 125000, 250000, 500000, 800000, 1000000 bit/s
\item p1\+: operating\+Mode\+: 0=default mode, values 1 (loop back) and 2 (listen) are not supported by \mbox{\hyperlink{namespaceCanModule}{Can\+Module}}
\item p2\+: termination\+: 0=not terminated (default), 1=terminated (120 Ohm for C\+AN bus)
\item p3\+: high\+Speed\+: 0=deactivated (default), 1=activated. If activated, confirmation and filtering of C\+AN traffic are switched off for baud rates $>$ 125000 this flag is needed, and it is set automatically for you if you forgot it (W\+RN)
\item p4\+: Time\+Stamp\+: 0=deactivated (default), 1=activated. If activated, a timestamp is added to the C\+AN frame. Not all modules support this. i.\+e. \char`\"{}250000 0 1 0 0\char`\"{} (see anagate manual for more details)
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0\+: new bus, OK, add it please 1\+: existing bus, OK, do not add -\/1\+: error 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a0eeee5c3d48f1102012d1483cbe6e64b}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 245 of file Ana\+Can\+Scan.\+cpp.



References configure\+Can\+Board(), Can\+Module\+::\+Log\+It\+Component\+Name, m\+\_\+bus\+Name, m\+\_\+bus\+Parameters, M\+L\+O\+G\+A\+NA, and st\+\_\+log\+It\+Handle\+Anagate.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a92f73e718c24985f247e5522486aace9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a1b62497ac5f0edcf9895c9f8cfad6b50}\label{classAnaCanScan_a1b62497ac5f0edcf9895c9f8cfad6b50}} 
\index{AnaCanScan@{AnaCanScan}!deleteCanHandleOfPortIp@{deleteCanHandleOfPortIp}}
\index{deleteCanHandleOfPortIp@{deleteCanHandleOfPortIp}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{deleteCanHandleOfPortIp()}{deleteCanHandleOfPortIp()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::delete\+Can\+Handle\+Of\+Port\+Ip (\begin{DoxyParamCaption}\item[{int}]{port,  }\item[{std\+::string}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

add a can handle into the map if it does not yet exist

find and erase a map entry handle-\/$>$\{port, ip\} todo\+: mutex protect, work on copy 

Definition at line 365 of file Ana\+Can\+Scan.\+cpp.



References handle(), Ana\+Can\+Scan\+::\+A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t\+::ip, Ana\+Can\+Scan\+::\+A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t\+::port, st\+\_\+can\+Handle\+Map, and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by reconnect(), and stop\+Bus().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a1b62497ac5f0edcf9895c9f8cfad6b50_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_ae7ab2706bb4cd5e02409db38e73dbb3e}\label{classAnaCanScan_ae7ab2706bb4cd5e02409db38e73dbb3e}} 
\index{AnaCanScan@{AnaCanScan}!eraseReceptionHandlerFromMap@{eraseReceptionHandlerFromMap}}
\index{eraseReceptionHandlerFromMap@{eraseReceptionHandlerFromMap}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{eraseReceptionHandlerFromMap()}{eraseReceptionHandlerFromMap()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::erase\+Reception\+Handler\+From\+Map (\begin{DoxyParamCaption}\item[{Ana\+Int32}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

todo\+: protect with mutex, work on copy 

Definition at line 875 of file Ana\+Can\+Scan.\+cpp.



References g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, m\+\_\+bus\+Name, and M\+L\+O\+G\+A\+NA.



Referenced by stop\+Bus().

\mbox{\Hypertarget{classAnaCanScan_a6eec29a421ec4af879143379833ec676}\label{classAnaCanScan_a6eec29a421ec4af879143379833ec676}} 
\index{AnaCanScan@{AnaCanScan}!errorCodeToString@{errorCodeToString}}
\index{errorCodeToString@{errorCodeToString}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{errorCodeToString()}{errorCodeToString()}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::error\+Code\+To\+String (\begin{DoxyParamCaption}\item[{long}]{error,  }\item[{char}]{message\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Provides textual representation of an error code. error return from module 

Definition at line 1053 of file Ana\+Can\+Scan.\+cpp.



References ana\+\_\+can\+Get\+Error\+Text().



Referenced by send\+Error\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a6eec29a421ec4af879143379833ec676_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a7bf29c3cb20f59bca41d581e4d8c9c04}\label{classAnaCanScan_a7bf29c3cb20f59bca41d581e4d8c9c04}} 
\index{AnaCanScan@{AnaCanScan}!getCanHandleOfPortIp@{getCanHandleOfPortIp}}
\index{getCanHandleOfPortIp@{getCanHandleOfPortIp}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getCanHandleOfPortIp()}{getCanHandleOfPortIp()}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::get\+Can\+Handle\+Of\+Port\+Ip (\begin{DoxyParamCaption}\item[{int}]{port,  }\item[{std\+::string}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

find the handle from port, ip we have to search through the whole map to know

given the \{port, ip\} we search through the map and return the handle if it exists, otherwise -\/1 

Definition at line 390 of file Ana\+Can\+Scan.\+cpp.



References st\+\_\+can\+Handle\+Map, and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by open\+Can\+Port().

\mbox{\Hypertarget{classAnaCanScan_a8618662dac4627418ed9c69442f51714}\label{classAnaCanScan_a8618662dac4627418ed9c69442f51714}} 
\index{AnaCanScan@{AnaCanScan}!getPortBitrate@{getPortBitrate}}
\index{getPortBitrate@{getPortBitrate}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getPortBitrate()}{getPortBitrate()}}
{\footnotesize\ttfamily virtual uint32\+\_\+t Ana\+Can\+Scan\+::get\+Port\+Bitrate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

returns the bitrate of that port \mbox{[}bits/sec\mbox{]} according to what \mbox{\hyperlink{namespaceCanModule}{Can\+Module}} buffers say. This is the setting used for setting up the hardware, after any default rules have been applied, but B\+E\+F\+O\+RE any vendor specific encoding into obscure bitpatterns occurs. This happens at port opening and the bitrate can only be changed at that moment. So please call this method just after you have opened the port. But also since there is no hw interaction and it just returns a buffer, you may call it as often as you like. Default bitrate is always 125000bits/s if \char`\"{}\+Unspecified\char`\"{} 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aa8cb67096349fefc6e03aeb33e45ef81}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 94 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_a4c115df4a8755c0fd70030ae457af24c}\label{classAnaCanScan_a4c115df4a8755c0fd70030ae457af24c}} 
\index{AnaCanScan@{AnaCanScan}!getPortStatus@{getPortStatus}}
\index{getPortStatus@{getPortStatus}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getPortStatus()}{getPortStatus()}}
{\footnotesize\ttfamily uint32\+\_\+t Ana\+Can\+Scan\+::get\+Port\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

C\+A\+N\+Can\+Device\+Connect\+State , translate from counter 1 = D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED \+: 2 = C\+O\+N\+N\+E\+C\+T\+I\+NG \+: 3 = C\+O\+N\+N\+E\+C\+T\+ED 4 = D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+I\+NG 5 = N\+O\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED b3...b27\+: unused

into simple bitpattern (counter) 0, 10, 11, 100, 101 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a33fe530d070cf35d096e967d543186a4}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 90 of file Ana\+Can\+Scan.\+h.



References C\+A\+N\+M\+O\+D\+U\+L\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+B\+P\+\_\+\+A\+N\+A\+G\+A\+TE.

\mbox{\Hypertarget{classAnaCanScan_a6ad398dd6aec952c19165899abd48b8a}\label{classAnaCanScan_a6ad398dd6aec952c19165899abd48b8a}} 
\index{AnaCanScan@{AnaCanScan}!getReconnectAction@{getReconnectAction}}
\index{getReconnectAction@{getReconnectAction}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getReconnectAction()}{getReconnectAction()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} Ana\+Can\+Scan\+::get\+Reconnect\+Action (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

read back the r.\+action 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aaf2312ff9074ce7a4ec2e7d0a5b6fa16}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 103 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_a74073d663dd44148033b3d6d15428ea9}\label{classAnaCanScan_a74073d663dd44148033b3d6d15428ea9}} 
\index{AnaCanScan@{AnaCanScan}!getReconnectCondition@{getReconnectCondition}}
\index{getReconnectCondition@{getReconnectCondition}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getReconnectCondition()}{getReconnectCondition()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} Ana\+Can\+Scan\+::get\+Reconnect\+Condition (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

read back the r.\+condition 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a003566cbcdf4ce8195853bd8049a8800}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 102 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_ad4576bc409a954c888a6fd7f06ca697f}\label{classAnaCanScan_ad4576bc409a954c888a6fd7f06ca697f}} 
\index{AnaCanScan@{AnaCanScan}!getStatistics@{getStatistics}}
\index{getStatistics@{getStatistics}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{getStatistics()}{getStatistics()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::get\+Statistics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_ad3182c83b4c5d7e6aef982c36e731507}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 1061 of file Ana\+Can\+Scan.\+cpp.



References Can\+Module\+::\+Can\+Statistics\+::begin\+New\+Run(), Can\+Module\+::\+Can\+Statistics\+::compute\+Derived(), m\+\_\+baud\+Rate, and m\+\_\+statistics.

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_ad4576bc409a954c888a6fd7f06ca697f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a9ce965955bb5eba734ed36b81945cb74}\label{classAnaCanScan_a9ce965955bb5eba734ed36b81945cb74}} 
\index{AnaCanScan@{AnaCanScan}!handle@{handle}}
\index{handle@{handle}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{handle()}{handle()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 172 of file Ana\+Can\+Scan.\+h.



Referenced by add\+Can\+Handle\+Of\+Port\+Ip(), and delete\+Can\+Handle\+Of\+Port\+Ip().

\mbox{\Hypertarget{classAnaCanScan_a23bc4d0b7c2fbb29cc6ec513d060d56e}\label{classAnaCanScan_a23bc4d0b7c2fbb29cc6ec513d060d56e}} 
\index{AnaCanScan@{AnaCanScan}!ipAdress@{ipAdress}}
\index{ipAdress@{ipAdress}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{ipAdress()}{ipAdress()}}
{\footnotesize\ttfamily string Ana\+Can\+Scan\+::ip\+Adress (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 170 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_afeaf22bfd209035e9ad9ac3111c6ba65}\label{classAnaCanScan_afeaf22bfd209035e9ad9ac3111c6ba65}} 
\index{AnaCanScan@{AnaCanScan}!isIpReconnectInProgress@{isIpReconnectInProgress}}
\index{isIpReconnectInProgress@{isIpReconnectInProgress}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{isIpReconnectInProgress()}{isIpReconnectInProgress()}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::is\+Ip\+Reconnect\+In\+Progress (\begin{DoxyParamCaption}\item[{string}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

checks if a reconnection is already in progress for the bridge at that IP. Several ports can (and will) fail at the same time, but the bridge should be reset only once, and not again for each port. 

Definition at line 131 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+reconnect\+In\+Progress\+\_\+map.



Referenced by reconnect\+All\+Ports().

\mbox{\Hypertarget{classAnaCanScan_ad94121f1933d50cafa52d625ee435f6c}\label{classAnaCanScan_ad94121f1933d50cafa52d625ee435f6c}} 
\index{AnaCanScan@{AnaCanScan}!openCanPort@{openCanPort}}
\index{openCanPort@{openCanPort}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{openCanPort()}{openCanPort()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::open\+Can\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Obtains an Anagate canport and opens it. The name of the port and parameters should have been specified by preceding call to configure\+Canboard() \begin{DoxyReturn}{Returns}
less than zero in case of error, otherwise success
\end{DoxyReturn}
communicate with the hardware using the Can\+Open interface\+: open anagate port, attach reply handler. No message queuing. C\+A\+N\+Set\+Max\+Size\+Per\+Queue not called==default==0 check if that anagate bridge (ip) is already initialized, if not we create it.

Definition at line 413 of file Ana\+Can\+Scan.\+cpp.



References add\+Can\+Handle\+Of\+Port\+Ip(), g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, get\+Can\+Handle\+Of\+Port\+Ip(), Internal\+Callback(), m\+\_\+can\+I\+P\+Address, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+\+Can\+Parameters, m\+\_\+can\+Port\+Number, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+High\+Speed, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Operation\+Mode, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Termination, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Time\+Stamp, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+l\+Baud\+Rate, m\+\_\+timeout, m\+\_\+\+Ucan\+Handle, and M\+L\+O\+G\+A\+NA.



Referenced by configure\+Can\+Board().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_ad94121f1933d50cafa52d625ee435f6c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_acf15b51af8c83b38115f83b343eaf2d6}\label{classAnaCanScan_acf15b51af8c83b38115f83b343eaf2d6}} 
\index{AnaCanScan@{AnaCanScan}!operator=@{operator=}}
\index{operator=@{operator=}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}}\& Ana\+Can\+Scan\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classAnaCanScan}{Ana\+Can\+Scan}} const \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classAnaCanScan_af1deaf420c98dcdc4687f481fd4d9a08}\label{classAnaCanScan_af1deaf420c98dcdc4687f481fd4d9a08}} 
\index{AnaCanScan@{AnaCanScan}!reconnect@{reconnect}}
\index{reconnect@{reconnect}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{reconnect()}{reconnect()}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::reconnect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

we try to reconnect one port after a power loss, and we should do this for all ports returns\+: 0 = OK -\/1 = could not C\+A\+N\+Open\+Device device -\/2 = could not connect callback C\+A\+N\+Set\+Callback\+Ex -\/3 = device was found open, tried to close but did not succeed (maybe you should just try sending again) • 1 = D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED \+: The connection to the Ana\+Gate is disconnected. • 2 = C\+O\+N\+N\+E\+C\+T\+I\+NG \+: The connection is connecting. • 3 = C\+O\+N\+N\+E\+C\+T\+ED \+: The connection is established. • 4 = D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+I\+NG \+: The connection is disonnecting. • 5 = N\+O\+T\+\_\+\+I\+N\+I\+T\+I\+A\+L\+I\+Z\+ED \+: The network protocol is not successfully initialized.

Definition at line 894 of file Ana\+Can\+Scan.\+cpp.



References add\+Can\+Handle\+Of\+Port\+Ip(), delete\+Can\+Handle\+Of\+Port\+Ip(), m\+\_\+can\+Close\+Device, m\+\_\+can\+I\+P\+Address, m\+\_\+can\+Port\+Number, m\+\_\+timeout, m\+\_\+\+Ucan\+Handle, and M\+L\+O\+G\+A\+NA.



Referenced by reconnect\+This\+Port(), and set\+Connect\+Wait\+Time().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_af1deaf420c98dcdc4687f481fd4d9a08_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_abf8809be00bdc2f39344ec72cf66514c}\label{classAnaCanScan_abf8809be00bdc2f39344ec72cf66514c}} 
\index{AnaCanScan@{AnaCanScan}!reconnectAllPorts@{reconnectAllPorts}}
\index{reconnectAllPorts@{reconnectAllPorts}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{reconnectAllPorts()}{reconnectAllPorts()}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::reconnect\+All\+Ports (\begin{DoxyParamCaption}\item[{string}]{ip }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

reconnects all opened ports of a given ip address=one module. We have one object per C\+AN port, so i.\+e. for an anagate duo (ports A and B) we have two objects with the same IP but with port 0 and 1.\+So we will have to scan over all objects there because we do not know how many C\+A\+Nports a given anagate bridge has. We also allow globally only one ongoing reconnect to one ip at a time. Theoretically we could have a separate reconnection thread per ip, but that looks like overcomplicating the code and the issue. If several anagate modules fail they will all reconnect one after the other. That is OK since if all of these modules loose power and reboot at the same moment they will also be ready at roughly the same moment for reconnect. That means that we have to wait for the first ip to reconnect for a while but then all other ips will reconnect rather quickly in the most likely case. returns\+: 0 = OK -\/1 = cant open / reconnect C\+AN ports +1 = ignore, since another thread is doing the reconnect already delete the map elements where the key is different from the handle, since we reassigned handles in the living objects like\+: g\+\_\+\+Ana\+Can\+Scan\+Pointer\+Map\mbox{[} m\+\_\+\+Ucan\+Handle \mbox{]} = this;

Definition at line 707 of file Ana\+Can\+Scan.\+cpp.



References anagate\+Reconnect\+Mutex, g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, is\+Ip\+Reconnect\+In\+Progress(), set\+Ip\+Reconnect\+In\+Progress(), show\+Ana\+Can\+Scan\+Object\+Map(), and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by send\+Message().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_abf8809be00bdc2f39344ec72cf66514c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_aedcf208c8b79a297650bb2790884a79d}\label{classAnaCanScan_aedcf208c8b79a297650bb2790884a79d}} 
\index{AnaCanScan@{AnaCanScan}!reconnectThisPort@{reconnectThisPort}}
\index{reconnectThisPort@{reconnectThisPort}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{reconnectThisPort()}{reconnectThisPort()}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::reconnect\+This\+Port (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

only reconnect this object\textquotesingle{}s port and make dure the callback map entry is updated as well delete the map elements where the key is different from the handle, since we reassigned handles in the living objects like\+: g\+\_\+\+Ana\+Can\+Scan\+Pointer\+Map\mbox{[} m\+\_\+\+Ucan\+Handle \mbox{]} = this;

Definition at line 654 of file Ana\+Can\+Scan.\+cpp.



References connect\+Reception\+Handler(), g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, m\+\_\+can\+I\+P\+Address, m\+\_\+can\+Port\+Number, M\+L\+O\+G\+A\+NA, reconnect(), show\+Ana\+Can\+Scan\+Object\+Map(), and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by send\+Message().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_aedcf208c8b79a297650bb2790884a79d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_aaa001b34e6ee0a27295239f951b7b879}\label{classAnaCanScan_aaa001b34e6ee0a27295239f951b7b879}} 
\index{AnaCanScan@{AnaCanScan}!sendErrorCode@{sendErrorCode}}
\index{sendErrorCode@{sendErrorCode}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{sendErrorCode()}{sendErrorCode()}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::send\+Error\+Code (\begin{DoxyParamCaption}\item[{Ana\+Int32}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

if sending had a problem invoke the error handler with a message 

Definition at line 488 of file Ana\+Can\+Scan.\+cpp.



References Can\+Module\+::\+C\+Can\+Access\+::can\+Message\+Error, and error\+Code\+To\+String().



Referenced by send\+Message(), and send\+Remote\+Request().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_aaa001b34e6ee0a27295239f951b7b879_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a75c1a41d3e8ed31b39e2813596358472}\label{classAnaCanScan_a75c1a41d3e8ed31b39e2813596358472}} 
\index{AnaCanScan@{AnaCanScan}!sendMessage@{sendMessage}}
\index{sendMessage@{sendMessage}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{sendMessage()}{sendMessage()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::send\+Message (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{CanMessage_8h_ab1aeab76298263f21dfde5bbdacaf46f}{Can\+Message}} $\ast$}]{canm }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classCanModule_1_1CCanAccess_ad0360c49d00ec0ee92cfdd73c2e43935}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 997 of file Ana\+Can\+Scan.\+cpp.



References Can\+Msg\+Struct\+::c\+\_\+data, Can\+Msg\+Struct\+::c\+\_\+dlc, Can\+Msg\+Struct\+::c\+\_\+id, Can\+Msg\+Struct\+::c\+\_\+rtr, and send\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a75c1a41d3e8ed31b39e2813596358472_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_ad45666454318c891d7acd9fe16ae4c49}\label{classAnaCanScan_ad45666454318c891d7acd9fe16ae4c49}} 
\index{AnaCanScan@{AnaCanScan}!sendMessage@{sendMessage}}
\index{sendMessage@{sendMessage}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{sendMessage()}{sendMessage()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::send\+Message (\begin{DoxyParamCaption}\item[{short}]{cob\+ID,  }\item[{unsigned char}]{len,  }\item[{unsigned char $\ast$}]{message,  }\item[{bool}]{rtr = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

send a C\+AN message frame (8 byte) for anagate Method that sends a message through the can bus channel. If the method create\+Bus was not called before this, send\+Message will fail, as there is no can bus channel to send a message trough. 
\begin{DoxyParams}{Parameters}
{\em cob\+ID} & Identifier that will be used for the message. \\
\hline
{\em len} & Length of the message. If the message is bigger than 8 characters, it will be split into separate 8 characters messages. \\
\hline
{\em message} & Message to be sent trough the can bus. \\
\hline
{\em rtr} & is the message a remote transmission request? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Was the sending process successful? 
\end{DoxyReturn}
before sending the message we check if the reception timeout has not been overrun. Because this would entail some reconnection action, and in that case we skip the send on that bus.

we can send now

something failed miserably. we are pessimistic and assume that the whole module (=ip) with all open ports has lost power. Anyway, per-\/port resetting will not work. Therefore we try to reconnect all used ports of this ip. This is a bit brute, but it will work, so you do not have to go down the tunnel. Nevertheless we should limit our efforts to this module=ip only and not reconnect all other modules managed by this task. we also avoid reconnecting all ports of an ip several times (for each failed send on any port)

something failed miserably. we only reconnect a single bus

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aee42ab7fb9e50c02a1812202f7863d8c}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 517 of file Ana\+Can\+Scan.\+cpp.



References Can\+Module\+::all\+Buses\+On\+Bridge, Can\+Module\+::\+C\+Can\+Access\+::has\+Timeout\+On\+Reception(), m\+\_\+can\+Close\+Device, m\+\_\+can\+I\+P\+Address, m\+\_\+can\+Port\+Number, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+failed\+Send\+Counter, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+reconnect\+Action, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+reconnect\+Condition, m\+\_\+statistics, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+trigger\+Counter, m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+A\+NA, Can\+Module\+::never, Can\+Module\+::\+Can\+Statistics\+::on\+Transmit(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Action\+String(), reconnect\+All\+Ports(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Condition\+String(), reconnect\+This\+Port(), Can\+Module\+::\+C\+Can\+Access\+::reset\+Timeout\+On\+Reception(), send\+Error\+Code(), Can\+Module\+::send\+Fail, Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Transmitted(), show\+Ana\+Can\+Scan\+Object\+Map(), Can\+Module\+::single\+Bus, and Can\+Module\+::timeout\+On\+Reception.



Referenced by send\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_ad45666454318c891d7acd9fe16ae4c49_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a345abb2f9712275425f4af8eb98cbd38}\label{classAnaCanScan_a345abb2f9712275425f4af8eb98cbd38}} 
\index{AnaCanScan@{AnaCanScan}!sendRemoteRequest@{sendRemoteRequest}}
\index{sendRemoteRequest@{sendRemoteRequest}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{sendRemoteRequest()}{sendRemoteRequest()}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::send\+Remote\+Request (\begin{DoxyParamCaption}\item[{short}]{cob\+ID }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Method that sends a remote request trough the can bus channel. If the method create\+Bus was not called before this, send\+Message will fail, as there is no can bus channel to send the request trough. Similar to send\+Message, but it sends an special message reserved for requests. 
\begin{DoxyParams}{Parameters}
{\em cob\+ID} & Identifier that will be used for the request. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Was the initialisation process successful? 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_acfefbc9be2696b1388cf6df2bba00aa1}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 1009 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+A\+NA, and send\+Error\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a345abb2f9712275425f4af8eb98cbd38_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a7cbad1b8b5c44282c86bfcfda5464b8f}\label{classAnaCanScan_a7cbad1b8b5c44282c86bfcfda5464b8f}} 
\index{AnaCanScan@{AnaCanScan}!setConnectWaitTime@{setConnectWaitTime}}
\index{setConnectWaitTime@{setConnectWaitTime}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{setConnectWaitTime()}{setConnectWaitTime()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::set\+Connect\+Wait\+Time (\begin{DoxyParamCaption}\item[{int}]{timeout\+\_\+ms }\end{DoxyParamCaption})}

set a connection specific timeout value. Global timeout is 6000, set by Can\+Open\+Device In order to make this specific timeout apply we have to reconnect 

Definition at line 990 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+timeout, m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+A\+NA, and reconnect().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a7cbad1b8b5c44282c86bfcfda5464b8f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a04a0124990e52b55b8c1046709ccb2d9}\label{classAnaCanScan_a04a0124990e52b55b8c1046709ccb2d9}} 
\index{AnaCanScan@{AnaCanScan}!setIpReconnectInProgress@{setIpReconnectInProgress}}
\index{setIpReconnectInProgress@{setIpReconnectInProgress}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{setIpReconnectInProgress()}{setIpReconnectInProgress()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::set\+Ip\+Reconnect\+In\+Progress (\begin{DoxyParamCaption}\item[{string}]{ip,  }\item[{bool}]{flag }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 110 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+reconnect\+In\+Progress\+\_\+map.



Referenced by reconnect\+All\+Ports().

\mbox{\Hypertarget{classAnaCanScan_a0b9879988a65b60c9f9abc7c88ce6993}\label{classAnaCanScan_a0b9879988a65b60c9f9abc7c88ce6993}} 
\index{AnaCanScan@{AnaCanScan}!setReconnectBehavior@{setReconnectBehavior}}
\index{setReconnectBehavior@{setReconnectBehavior}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectBehavior()}{setReconnectBehavior()}}
{\footnotesize\ttfamily virtual void Ana\+Can\+Scan\+::set\+Reconnect\+Behavior (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}}}]{cond,  }\item[{\mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}}}]{action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

configuring the reconnection behavior\+: a condition triggers an action. The implementation is implementation-\/specific because not all vendor A\+P\+Is permit the same behavior\+: not all combinations are available for all vendors/implementations. The implemented reconnection behavior is standardized nevertheless\+: \char`\"{}you get what you see\char`\"{}. Foe each Can\+Bus you have to choose one condition and one action. Condition detection and action execution are then automatic inside \mbox{\hyperlink{namespaceCanModule}{Can\+Module}}.


\begin{DoxyParams}{Parameters}
{\em \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}}} & cond
\begin{DoxyItemize}
\item send\+Fail (default)\+: a reconnection is triggered automatically if a send on the can\+Bus fails. The number of failed sends can be set (default is 10). The failed sending must be strictly consecutive, if there is a succeeded sending, the internal counting restarts.
\item timeout\+On\+Reception\+: the last time of a successful reception on a given channel can be monitored. If the last reception is older than 120 sec a reset is triggered automatically. This last successful reception time is calculated each time a send is invoked. The timeout is specified in seconds, default is 120sec.
\item never\+: this condition is always false and therefore no automatic reconnection action will be triggered. You can still call the explicit method reconnect( $<$action$>$ ) but it is up to the client (server) to decide when.
\end{DoxyItemize}\\
\hline
{\em \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}}} & action
\begin{DoxyItemize}
\item single\+Bus (default)\+: a single connection (canbus, channel) is reset and reception handler is reconnected.
\item whole\+Bridge if available, the whole bridge is reset, affecting all physical channels on that bridge. Only available for anagate. If a bridge is shared between multiple tasks, all channels across tasks are reset, affecting all tasks connected to that bridge. Evidently, a given channel must only be used by at most one task. 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_ae1088edaf5444ff42ee094ae46240cc5}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 96 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_ae986496d224081758e5bd2eca0b343c5}\label{classAnaCanScan_ae986496d224081758e5bd2eca0b343c5}} 
\index{AnaCanScan@{AnaCanScan}!setReconnectFailedSendCount@{setReconnectFailedSendCount}}
\index{setReconnectFailedSendCount@{setReconnectFailedSendCount}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectFailedSendCount()}{setReconnectFailedSendCount()}}
{\footnotesize\ttfamily virtual void Ana\+Can\+Scan\+::set\+Reconnect\+Failed\+Send\+Count (\begin{DoxyParamCaption}\item[{unsigned int}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

set the counter for failed consecutive sending attempts, for reconnection. default is 10. 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a665620fe5924cf87db0589a353d3d148}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 101 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_a6b617410ab9dcbb9c89302cc2ffd78c0}\label{classAnaCanScan_a6b617410ab9dcbb9c89302cc2ffd78c0}} 
\index{AnaCanScan@{AnaCanScan}!setReconnectReceptionTimeout@{setReconnectReceptionTimeout}}
\index{setReconnectReceptionTimeout@{setReconnectReceptionTimeout}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectReceptionTimeout()}{setReconnectReceptionTimeout()}}
{\footnotesize\ttfamily virtual void Ana\+Can\+Scan\+::set\+Reconnect\+Reception\+Timeout (\begin{DoxyParamCaption}\item[{unsigned int}]{timeout }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

set the timout interval for message reception, for the reconnection behaviour. Units is seconds, default is 120. 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a3c902569c0712d165fc7e385e683dc95}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 100 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_a9ebdd69b0b5f2e43b152fde44dfbd543}\label{classAnaCanScan_a9ebdd69b0b5f2e43b152fde44dfbd543}} 
\index{AnaCanScan@{AnaCanScan}!showAnaCanScanObjectMap@{showAnaCanScanObjectMap}}
\index{showAnaCanScanObjectMap@{showAnaCanScanObjectMap}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{showAnaCanScanObjectMap()}{showAnaCanScanObjectMap()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::show\+Ana\+Can\+Scan\+Object\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

display the handle-\/$>$object map, and using the object, show more details 

Definition at line 636 of file Ana\+Can\+Scan.\+cpp.



References g\+\_\+\+Ana\+Can\+Scan\+Object\+Map, and st\+\_\+log\+It\+Handle\+Anagate.



Referenced by reconnect\+All\+Ports(), reconnect\+This\+Port(), and send\+Message().

\mbox{\Hypertarget{classAnaCanScan_a7ba68ea800d7a6837b6bc808d473323d}\label{classAnaCanScan_a7ba68ea800d7a6837b6bc808d473323d}} 
\index{AnaCanScan@{AnaCanScan}!statisticsOnRecieve@{statisticsOnRecieve}}
\index{statisticsOnRecieve@{statisticsOnRecieve}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{statisticsOnRecieve()}{statisticsOnRecieve()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::statistics\+On\+Recieve (\begin{DoxyParamCaption}\item[{int}]{bytes }\end{DoxyParamCaption})}

update statistics A\+PI 

Definition at line 201 of file Ana\+Can\+Scan.\+cpp.



References m\+\_\+statistics, Can\+Module\+::\+Can\+Statistics\+::on\+Receive(), and Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Received().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a7ba68ea800d7a6837b6bc808d473323d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classAnaCanScan_a4631538bddfbe61637ea5ed0071b780f}\label{classAnaCanScan_a4631538bddfbe61637ea5ed0071b780f}} 
\index{AnaCanScan@{AnaCanScan}!stopBus@{stopBus}}
\index{stopBus@{stopBus}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{stopBus()}{stopBus()}}
{\footnotesize\ttfamily void Ana\+Can\+Scan\+::stop\+Bus (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file Ana\+Can\+Scan.\+cpp.



References delete\+Can\+Handle\+Of\+Port\+Ip(), erase\+Reception\+Handler\+From\+Map(), m\+\_\+bus\+Name, m\+\_\+can\+I\+P\+Address, m\+\_\+can\+Port\+Number, m\+\_\+\+Ucan\+Handle, and M\+L\+O\+G\+A\+NA.



Referenced by $\sim$\+Ana\+Can\+Scan().

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classAnaCanScan_a4631538bddfbe61637ea5ed0071b780f_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classAnaCanScan_ae2d7c7a9b314adffbde6eafac5a3607e}\label{classAnaCanScan_ae2d7c7a9b314adffbde6eafac5a3607e}} 
\index{AnaCanScan@{AnaCanScan}!m\_baudRate@{m\_baudRate}}
\index{m\_baudRate@{m\_baudRate}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_baudRate}{m\_baudRate}}
{\footnotesize\ttfamily unsigned int Ana\+Can\+Scan\+::m\+\_\+baud\+Rate\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 110 of file Ana\+Can\+Scan.\+h.



Referenced by configure\+Can\+Board(), and get\+Statistics().

\mbox{\Hypertarget{classAnaCanScan_ad515df0b16ec1a2877282f54c0733a98}\label{classAnaCanScan_ad515df0b16ec1a2877282f54c0733a98}} 
\index{AnaCanScan@{AnaCanScan}!m\_busName@{m\_busName}}
\index{m\_busName@{m\_busName}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_busName}{m\_busName}}
{\footnotesize\ttfamily string Ana\+Can\+Scan\+::m\+\_\+bus\+Name\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 113 of file Ana\+Can\+Scan.\+h.



Referenced by create\+Bus(), erase\+Reception\+Handler\+From\+Map(), and stop\+Bus().

\mbox{\Hypertarget{classAnaCanScan_a84c4a44bd26c3e3f21288f3abeba8326}\label{classAnaCanScan_a84c4a44bd26c3e3f21288f3abeba8326}} 
\index{AnaCanScan@{AnaCanScan}!m\_busParameters@{m\_busParameters}}
\index{m\_busParameters@{m\_busParameters}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_busParameters}{m\_busParameters}}
{\footnotesize\ttfamily string Ana\+Can\+Scan\+::m\+\_\+bus\+Parameters\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 114 of file Ana\+Can\+Scan.\+h.



Referenced by create\+Bus().

\mbox{\Hypertarget{classAnaCanScan_adea6b9e3f699ae412a8fc532a3eb9a48}\label{classAnaCanScan_adea6b9e3f699ae412a8fc532a3eb9a48}} 
\index{AnaCanScan@{AnaCanScan}!m\_canCloseDevice@{m\_canCloseDevice}}
\index{m\_canCloseDevice@{m\_canCloseDevice}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_canCloseDevice}{m\_canCloseDevice}}
{\footnotesize\ttfamily bool Ana\+Can\+Scan\+::m\+\_\+can\+Close\+Device\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 112 of file Ana\+Can\+Scan.\+h.



Referenced by reconnect(), and send\+Message().

\mbox{\Hypertarget{classAnaCanScan_a501c8cb87a6e4a11b526840f052ec028}\label{classAnaCanScan_a501c8cb87a6e4a11b526840f052ec028}} 
\index{AnaCanScan@{AnaCanScan}!m\_canIPAddress@{m\_canIPAddress}}
\index{m\_canIPAddress@{m\_canIPAddress}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_canIPAddress}{m\_canIPAddress}}
{\footnotesize\ttfamily string Ana\+Can\+Scan\+::m\+\_\+can\+I\+P\+Address\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 109 of file Ana\+Can\+Scan.\+h.



Referenced by configure\+Can\+Board(), connect\+Reception\+Handler(), open\+Can\+Port(), reconnect(), reconnect\+This\+Port(), send\+Message(), and stop\+Bus().

\mbox{\Hypertarget{classAnaCanScan_a2ef4dd0b4c07b341597382688b8a2964}\label{classAnaCanScan_a2ef4dd0b4c07b341597382688b8a2964}} 
\index{AnaCanScan@{AnaCanScan}!m\_canPortNumber@{m\_canPortNumber}}
\index{m\_canPortNumber@{m\_canPortNumber}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_canPortNumber}{m\_canPortNumber}}
{\footnotesize\ttfamily int Ana\+Can\+Scan\+::m\+\_\+can\+Port\+Number\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 103 of file Ana\+Can\+Scan.\+h.



Referenced by configure\+Can\+Board(), connect\+Reception\+Handler(), open\+Can\+Port(), reconnect(), reconnect\+This\+Port(), send\+Message(), and stop\+Bus().

\mbox{\Hypertarget{classAnaCanScan_a140c655eb7afe156add0edbd93ca2789}\label{classAnaCanScan_a140c655eb7afe156add0edbd93ca2789}} 
\index{AnaCanScan@{AnaCanScan}!m\_idCanScanThread@{m\_idCanScanThread}}
\index{m\_idCanScanThread@{m\_idCanScanThread}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_idCanScanThread}{m\_idCanScanThread}}
{\footnotesize\ttfamily \mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} Ana\+Can\+Scan\+::m\+\_\+id\+Can\+Scan\+Thread\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 111 of file Ana\+Can\+Scan.\+h.

\mbox{\Hypertarget{classAnaCanScan_a3ff66979e02a0904488365ec412fc994}\label{classAnaCanScan_a3ff66979e02a0904488365ec412fc994}} 
\index{AnaCanScan@{AnaCanScan}!m\_reconnectInProgress\_map@{m\_reconnectInProgress\_map}}
\index{m\_reconnectInProgress\_map@{m\_reconnectInProgress\_map}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_reconnectInProgress\_map}{m\_reconnectInProgress\_map}}
{\footnotesize\ttfamily std\+::map$<$ string, bool $>$ Ana\+Can\+Scan\+::m\+\_\+reconnect\+In\+Progress\+\_\+map\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 165 of file Ana\+Can\+Scan.\+h.



Referenced by is\+Ip\+Reconnect\+In\+Progress(), and set\+Ip\+Reconnect\+In\+Progress().

\mbox{\Hypertarget{classAnaCanScan_a862310267c2415fa9afb401402fa7b57}\label{classAnaCanScan_a862310267c2415fa9afb401402fa7b57}} 
\index{AnaCanScan@{AnaCanScan}!m\_statistics@{m\_statistics}}
\index{m\_statistics@{m\_statistics}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_statistics}{m\_statistics}}
{\footnotesize\ttfamily \mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} Ana\+Can\+Scan\+::m\+\_\+statistics\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file Ana\+Can\+Scan.\+h.



Referenced by Ana\+Can\+Scan(), get\+Statistics(), send\+Message(), and statistics\+On\+Recieve().

\mbox{\Hypertarget{classAnaCanScan_a2ef809f84d976b6f453049a7298760fe}\label{classAnaCanScan_a2ef809f84d976b6f453049a7298760fe}} 
\index{AnaCanScan@{AnaCanScan}!m\_timeout@{m\_timeout}}
\index{m\_timeout@{m\_timeout}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_timeout}{m\_timeout}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::m\+\_\+timeout\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 117 of file Ana\+Can\+Scan.\+h.



Referenced by open\+Can\+Port(), reconnect(), and set\+Connect\+Wait\+Time().

\mbox{\Hypertarget{classAnaCanScan_a581830a4a70cee6b31e3e895d669a9be}\label{classAnaCanScan_a581830a4a70cee6b31e3e895d669a9be}} 
\index{AnaCanScan@{AnaCanScan}!m\_UcanHandle@{m\_UcanHandle}}
\index{m\_UcanHandle@{m\_UcanHandle}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{m\_UcanHandle}{m\_UcanHandle}}
{\footnotesize\ttfamily Ana\+Int32 Ana\+Can\+Scan\+::m\+\_\+\+Ucan\+Handle\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 115 of file Ana\+Can\+Scan.\+h.



Referenced by connect\+Reception\+Handler(), open\+Can\+Port(), reconnect(), send\+Message(), send\+Remote\+Request(), set\+Connect\+Wait\+Time(), and stop\+Bus().

\mbox{\Hypertarget{classAnaCanScan_a71e415a2fec462b991777ca38a9797cc}\label{classAnaCanScan_a71e415a2fec462b991777ca38a9797cc}} 
\index{AnaCanScan@{AnaCanScan}!st\_canHandleMap@{st\_canHandleMap}}
\index{st\_canHandleMap@{st\_canHandleMap}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{st\_canHandleMap}{st\_canHandleMap}}
{\footnotesize\ttfamily std\+::map$<$ int, \mbox{\hyperlink{structAnaCanScan_1_1ANAGATE__PORTDEF__t}{Ana\+Can\+Scan\+::\+A\+N\+A\+G\+A\+T\+E\+\_\+\+P\+O\+R\+T\+D\+E\+F\+\_\+t}} $>$ Ana\+Can\+Scan\+::st\+\_\+can\+Handle\+Map\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 142 of file Ana\+Can\+Scan.\+h.



Referenced by add\+Can\+Handle\+Of\+Port\+Ip(), delete\+Can\+Handle\+Of\+Port\+Ip(), and get\+Can\+Handle\+Of\+Port\+Ip().

\mbox{\Hypertarget{classAnaCanScan_a39ab4f1c865bef7349992abd4d91da1d}\label{classAnaCanScan_a39ab4f1c865bef7349992abd4d91da1d}} 
\index{AnaCanScan@{AnaCanScan}!st\_logItHandleAnagate@{st\_logItHandleAnagate}}
\index{st\_logItHandleAnagate@{st\_logItHandleAnagate}!AnaCanScan@{AnaCanScan}}
\doxysubsubsection{\texorpdfstring{st\_logItHandleAnagate}{st\_logItHandleAnagate}}
{\footnotesize\ttfamily Log\+::\+Log\+Component\+Handle Ana\+Can\+Scan\+::st\+\_\+log\+It\+Handle\+Anagate = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

we would like to keep logging from a few static methods as well, since one IP number corresponds to many ports and some class-\/level management is going on for the connect-\/reconnect behavior. We definitely need these to be static. So since we need the logit handle static there is no point in having it also private. At least the cross-\/thread references to the handler are within this class only. It is all re-\/entrant code, and the handler does not change during runtime any more, so no mutex protection for now. 

Definition at line 129 of file Ana\+Can\+Scan.\+h.



Referenced by add\+Can\+Handle\+Of\+Port\+Ip(), create\+Bus(), delete\+Can\+Handle\+Of\+Port\+Ip(), get\+Can\+Handle\+Of\+Port\+Ip(), reconnect\+All\+Ports(), reconnect\+This\+Port(), and show\+Ana\+Can\+Scan\+Object\+Map().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Can\+Interface\+Implementations/anagate/\mbox{\hyperlink{AnaCanScan_8h}{Ana\+Can\+Scan.\+h}}\item 
Can\+Interface\+Implementations/anagate/\mbox{\hyperlink{AnaCanScan_8cpp}{Ana\+Can\+Scan.\+cpp}}\end{DoxyCompactItemize}
