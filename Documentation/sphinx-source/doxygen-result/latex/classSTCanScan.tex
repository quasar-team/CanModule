\hypertarget{classSTCanScan}{}\doxysection{S\+T\+Can\+Scan Class Reference}
\label{classSTCanScan}\index{STCanScan@{STCanScan}}


{\ttfamily \#include $<$S\+T\+Can\+Scan.\+h$>$}



Inheritance diagram for S\+T\+Can\+Scan\+:
% FIG 0


Collaboration diagram for S\+T\+Can\+Scan\+:
% FIG 1
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classSTCanScan_a75fcb8ff51d82d362edb1dd31125fb10}{S\+T\+Can\+Scan}} ()
\item 
\mbox{\hyperlink{classSTCanScan_a335aaec2300f2b9c31fd0f268014f24d}{S\+T\+Can\+Scan}} (\mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}} const \&other)=delete
\item 
\mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}} \& \mbox{\hyperlink{classSTCanScan_a7c2d148e988e8b7e9df6b4ab0ed2dda1}{operator=}} (\mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}} const \&other)=delete
\item 
virtual \mbox{\hyperlink{classSTCanScan_a2f3398dc992ebd90002c179305c55d54}{$\sim$\+S\+T\+Can\+Scan}} ()
\item 
virtual int \mbox{\hyperlink{classSTCanScan_ad45582e26b616cbaa3d6978008819ab8}{create\+Bus}} (const std\+::string name, const std\+::string parameters)
\item 
virtual bool \mbox{\hyperlink{classSTCanScan_a45f0ec011022bf58a23e8370bac7f829}{send\+Message}} (short cob\+ID, unsigned char len, unsigned char $\ast$message, bool rtr=false)
\item 
virtual bool \mbox{\hyperlink{classSTCanScan_a2c1de002fa7ace90ef95af00f824c8e4}{send\+Remote\+Request}} (short cob\+ID)
\item 
virtual void \mbox{\hyperlink{classSTCanScan_a4810249805b660c4e914247acbdf45d2}{get\+Statistics}} (\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \&result)
\item 
virtual uint32\+\_\+t \mbox{\hyperlink{classSTCanScan_a27eabd471d3bb8154dfadb677c66e1d5}{get\+Port\+Status}} ()
\item 
virtual uint32\+\_\+t \mbox{\hyperlink{classSTCanScan_a91743fa3da0804c3bf55e40c8c8da9b6}{get\+Port\+Bitrate}} ()
\item 
Log\+::\+Log\+Component\+Handle \mbox{\hyperlink{classSTCanScan_ab9c50de0ed0386a7826c6bbabafc4117}{log\+It\+Handle}} ()
\item 
virtual void \mbox{\hyperlink{classSTCanScan_a17bfbbb7ad6c03fc1ec9ef5f6fed0d3f}{set\+Reconnect\+Behavior}} (\mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} cond, \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} action)
\item 
virtual void \mbox{\hyperlink{classSTCanScan_adca4386c1a008644c27f1d8e7c395272}{set\+Reconnect\+Reception\+Timeout}} (unsigned int timeout)
\item 
virtual void \mbox{\hyperlink{classSTCanScan_a2525cc89387ee92ce7e62be414d3c83e}{set\+Reconnect\+Failed\+Send\+Count}} (unsigned int c)
\item 
virtual \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} \mbox{\hyperlink{classSTCanScan_a01b70015904374f482647fbfb1806b08}{get\+Reconnect\+Condition}} ()
\item 
virtual \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} \mbox{\hyperlink{classSTCanScan_a471b6a8617a57b974cb71a2dc540d370}{get\+Reconnect\+Action}} ()
\item 
virtual void \mbox{\hyperlink{classSTCanScan_ae88b966c3c318eca384385c5a85cf2d7}{stop\+Bus}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{classSTCanScan_a43454c0bc20eb764cbb4ef3dd5e52cc9}{send\+Error\+Code}} (long)
\item 
int \mbox{\hyperlink{classSTCanScan_adc2d61ba13c40e436deabbc6474ffb3e}{configure\+Can\+Board}} (const std\+::string name, const std\+::string parameters)
\item 
int \mbox{\hyperlink{classSTCanScan_a5f74df7e9615929365b33c08e709e918}{open\+Can\+Port}} (t\+Ucan\+Init\+Can\+Param initialization\+Parameters)
\item 
const char $\ast$ \mbox{\hyperlink{classSTCanScan_a54da665706336c8fab2f1c32b64056c5}{error\+Code\+To\+String}} (long error)
\item 
unsigned int \mbox{\hyperlink{classSTCanScan_aa57c48594c8a70a0331f07fb4ad208fd}{vendor\+Baud\+Rate2\+User\+Baud\+Rate}} (unsigned int vb)
\item 
std\+::string \mbox{\hyperlink{classSTCanScan_a794110572725db6b7c153104ee1330b3}{S\+Tcan\+Get\+Error\+Text}} (long err\+Code)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} \mbox{\hyperlink{STCanScan_8cpp_a9aa60e1ead64be77ad551e745cbfd4d3}{W\+I\+N\+A\+PI}} \mbox{\hyperlink{classSTCanScan_aab42375da764eb0d50dee318cd790646}{Can\+Scan\+Control\+Thread}} (L\+P\+V\+O\+ID p\+Can\+Scan)
\item 
static t\+Ucan\+Init\+Can\+Param \mbox{\hyperlink{classSTCanScan_af6cf11abff5d1b39b35ceff9ae857270}{create\+Initialization\+Parameters}} (unsigned int br)
\item 
static void \mbox{\hyperlink{classSTCanScan_ae29a23d161c115f173cbdb3a807c895e}{set\+Can\+Handle\+In\+Use}} (int n, bool t)
\item 
static bool \mbox{\hyperlink{classSTCanScan_a2f2a9aaa3ce2c653a4e1152eb8497493}{is\+Can\+Handle\+In\+Use}} (int n)
\item 
static void \mbox{\hyperlink{classSTCanScan_a50f89ce5fc0b2961937dc8a4b86081f8}{set\+Can\+Handle}} (int n, t\+Ucan\+Handle tU)
\item 
static t\+Ucan\+Handle \mbox{\hyperlink{classSTCanScan_a29b4c3c8f29e45f808fbb7528e4593aa}{get\+Can\+Handle}} (int n)
\item 
static int \mbox{\hyperlink{classSTCanScan_a50337fe307a73461cce620c6cb6b8fe9}{reconnect\+All\+Ports}} (t\+Ucan\+Handle h)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{classSTCanScan_a38531e0fcde0f184eb968a01fb5984c9}{m\+\_\+module\+Number}}
\item 
int \mbox{\hyperlink{classSTCanScan_ac5e311e695c1a3c810f82b0c21ee3618}{m\+\_\+channel\+Number}}
\item 
int \mbox{\hyperlink{classSTCanScan_a8d6dd7c1cbf4a97607909086da6361e1}{m\+\_\+can\+Handle\+Number}}
\item 
t\+Ucan\+Handle \mbox{\hyperlink{classSTCanScan_add94dcac99b3ba3a17cb3708fd0cd20d}{m\+\_\+\+Ucan\+Handle}}
\item 
\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \mbox{\hyperlink{classSTCanScan_a93abd76cf68726a0bfa4b9d3982ec9aa}{m\+\_\+statistics}}
\item 
unsigned int \mbox{\hyperlink{classSTCanScan_add0582f666b4f0a5883311a284a0e9c4}{m\+\_\+baud\+Rate}}
\item 
Log\+::\+Log\+Component\+Handle \mbox{\hyperlink{classSTCanScan_acf5dfe6c253afa4e08e883f8177e2eb3}{m\+\_\+log\+It\+Handle\+St}}
\item 
\mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} \mbox{\hyperlink{classSTCanScan_aa1c2f27f78da63fc7d1f542f818b9624}{m\+\_\+bus\+Status}}
\item 
bool \mbox{\hyperlink{classSTCanScan_abd418113d56ef882bb12cd7473d031e1}{m\+\_\+\+Can\+Scan\+Thread\+Shutdown\+Flag}}
\item 
H\+A\+N\+D\+LE \mbox{\hyperlink{classSTCanScan_a2a57272e12f97f245e6f204347782bc0}{m\+\_\+h\+Can\+Scan\+Thread}}
\item 
\mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} \mbox{\hyperlink{classSTCanScan_a8ae65fcef31d4bb84aa5bb8978973f86}{m\+\_\+id\+Can\+Scan\+Thread}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static t\+Ucan\+Handle \mbox{\hyperlink{classSTCanScan_ac3f6c36fec9666c086da47f241f75dba}{s\+\_\+can\+Handle\+Array}} \mbox{[}256\mbox{]}
\item 
static bool \mbox{\hyperlink{classSTCanScan_a310439aeb8688c29fb3fe8faa4a9e198}{s\+\_\+is\+Can\+Handle\+In\+Use\+Array}} \mbox{[}256\mbox{]}
\begin{DoxyCompactList}\small\item\em The macro below is applicable only to this translation unit. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 39 of file S\+T\+Can\+Scan.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classSTCanScan_a75fcb8ff51d82d362edb1dd31125fb10}\label{classSTCanScan_a75fcb8ff51d82d362edb1dd31125fb10}} 
\index{STCanScan@{STCanScan}!STCanScan@{STCanScan}}
\index{STCanScan@{STCanScan}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{STCanScan()}{STCanScan()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily S\+T\+Can\+Scan\+::\+S\+T\+Can\+Scan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 61 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Module\+::\+Can\+Statistics\+::begin\+New\+Run(), Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+failed\+Send\+Countdown, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+max\+Failed\+Send\+Count, m\+\_\+statistics, and Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Opened().

Here is the call graph for this function\+:
% FIG 2
\mbox{\Hypertarget{classSTCanScan_a335aaec2300f2b9c31fd0f268014f24d}\label{classSTCanScan_a335aaec2300f2b9c31fd0f268014f24d}} 
\index{STCanScan@{STCanScan}!STCanScan@{STCanScan}}
\index{STCanScan@{STCanScan}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{STCanScan()}{STCanScan()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily S\+T\+Can\+Scan\+::\+S\+T\+Can\+Scan (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}} const \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classSTCanScan_a2f3398dc992ebd90002c179305c55d54}\label{classSTCanScan_a2f3398dc992ebd90002c179305c55d54}} 
\index{STCanScan@{STCanScan}!````~STCanScan@{$\sim$STCanScan}}
\index{````~STCanScan@{$\sim$STCanScan}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{$\sim$STCanScan()}{~STCanScan()}}
{\footnotesize\ttfamily S\+T\+Can\+Scan\+::$\sim$\+S\+T\+Can\+Scan (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Definition at line 169 of file S\+T\+Can\+Scan.\+cpp.



References m\+\_\+\+Can\+Scan\+Thread\+Shutdown\+Flag, m\+\_\+channel\+Number, m\+\_\+h\+Can\+Scan\+Thread, m\+\_\+\+Ucan\+Handle, and M\+L\+O\+G\+ST.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classSTCanScan_aab42375da764eb0d50dee318cd790646}\label{classSTCanScan_aab42375da764eb0d50dee318cd790646}} 
\index{STCanScan@{STCanScan}!CanScanControlThread@{CanScanControlThread}}
\index{CanScanControlThread@{CanScanControlThread}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{CanScanControlThread()}{CanScanControlThread()}}
{\footnotesize\ttfamily \mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} \mbox{\hyperlink{STCanScan_8cpp_a9aa60e1ead64be77ad551e745cbfd4d3}{W\+I\+N\+A\+PI}} S\+T\+Can\+Scan\+::\+Can\+Scan\+Control\+Thread (\begin{DoxyParamCaption}\item[{L\+P\+V\+O\+ID}]{p\+Can\+Scan }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

thread to supervise port activity lets check the timeout\+On\+Reception reconnect condition. If it is true, all we can do is to close/open the port again since the underlying hardware is hidden by socketcan abstraction. Like his we do not have to pollute the \char`\"{}send\+Message\char`\"{} like for anagate, and that is cleaner.

Definition at line 98 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Msg\+Struct\+::c\+\_\+data, Can\+Msg\+Struct\+::c\+\_\+dlc, Can\+Msg\+Struct\+::c\+\_\+ff, Can\+Msg\+Struct\+::c\+\_\+id, Can\+Msg\+Struct\+::c\+\_\+time, Can\+Module\+::\+C\+Can\+Access\+::can\+Message\+Came, Can\+Module\+::convert\+Timepoint\+To\+Timeval(), create\+Initialization\+Parameters(), Can\+Module\+::current\+Time\+Timeval(), get\+Reconnect\+Action(), get\+Reconnect\+Condition(), Can\+Module\+::\+C\+Can\+Access\+::has\+Timeout\+On\+Reception(), m\+\_\+baud\+Rate, m\+\_\+\+Can\+Scan\+Thread\+Shutdown\+Flag, m\+\_\+channel\+Number, m\+\_\+module\+Number, m\+\_\+statistics, m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+ST, Can\+Module\+::\+Can\+Statistics\+::on\+Receive(), open\+Can\+Port(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Action\+String(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Condition\+String(), Can\+Module\+::\+C\+Can\+Access\+::reset\+Timeout\+On\+Reception(), send\+Error\+Code(), set\+Can\+Handle\+In\+Use(), Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Received(), Can\+Module\+::single\+Bus, and Can\+Module\+::timeout\+On\+Reception.



Referenced by create\+Bus().

Here is the call graph for this function\+:
% FIG 3
\mbox{\Hypertarget{classSTCanScan_adc2d61ba13c40e436deabbc6474ffb3e}\label{classSTCanScan_adc2d61ba13c40e436deabbc6474ffb3e}} 
\index{STCanScan@{STCanScan}!configureCanBoard@{configureCanBoard}}
\index{configureCanBoard@{configureCanBoard}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{configureCanBoard()}{configureCanBoard()}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::configure\+Can\+Board (\begin{DoxyParamCaption}\item[{const std\+::string}]{name,  }\item[{const std\+::string}]{parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

configures systec @ windows board only G1/\+G2 boards 

Definition at line 245 of file S\+T\+Can\+Scan.\+cpp.



References create\+Initialization\+Parameters(), m\+\_\+baud\+Rate, m\+\_\+can\+Handle\+Number, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+\+Can\+Parameters, m\+\_\+channel\+Number, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+i\+Number\+Of\+Detected\+Parameters, Can\+Module\+::\+Can\+Parameters\+::m\+\_\+l\+Baud\+Rate, m\+\_\+module\+Number, M\+L\+O\+G\+ST, open\+Can\+Port(), Can\+Module\+::\+C\+Can\+Access\+::parse\+Name\+And\+Parameters(), and vendor\+Baud\+Rate2\+User\+Baud\+Rate().



Referenced by create\+Bus().

Here is the call graph for this function\+:
% FIG 4
\mbox{\Hypertarget{classSTCanScan_ad45582e26b616cbaa3d6978008819ab8}\label{classSTCanScan_ad45582e26b616cbaa3d6978008819ab8}} 
\index{STCanScan@{STCanScan}!createBus@{createBus}}
\index{createBus@{createBus}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{createBus()}{createBus()}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::create\+Bus (\begin{DoxyParamCaption}\item[{const std\+::string}]{name,  }\item[{const std\+::string}]{parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Method that initialises a C\+AN bus channel for systec@windows. All following methods called on the same object will be using this initialized channel.


\begin{DoxyParams}{Parameters}
{\em name} & = 2 parameters separated by \char`\"{}\+:\char`\"{} like \char`\"{}n0\+:n1\char`\"{}
\begin{DoxyItemize}
\item n0 = \char`\"{}st\char`\"{} for systec@windows
\item n1 = C\+AN port number on the module, can be prefixed with \char`\"{}can\char`\"{}
\item ex.\+: \char`\"{}st\+:can1\char`\"{} speaks to port 1 on systec module at the ip
\item ex.\+: \char`\"{}st\+:1\char`\"{} works as well
\end{DoxyItemize}\\
\hline
{\em parameters} & one parameter\+: \char`\"{}p0\char`\"{}, positive integers
\begin{DoxyItemize}
\item \char`\"{}\+Unspecified\char`\"{} (or empty)\+: using defaults = \char`\"{}125000\char`\"{} // params missing
\item p0\+: bitrate\+: 50000, 100000, 125000, 250000, 500000, 1000000 bit/s i.\+e. \char`\"{}250000\char`\"{}
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
was the initialisation process successful?
\end{DoxyReturn}
===note from Piotr=== in the Windows implementation of Systec (hardware component\+: st)\+: to define the interface naming as canX, where X is a non-\/negative number note\+: the Sys\+Tec driver for windows expects addressing in terms of module number and channel (e.\+g. 0\+:0 is can0, 1\+:0 is can2, 1\+:1 is can3, etc) so can0 should open a Sys\+Tec interface 0\+:0 matching \char`\"{}can0\char`\"{} on the box, can1 should open a Sys\+Tec interface 0\+:1 matching \char`\"{}can1\char`\"{} on the box, etc.

returns\+: 0 = OK, bus created -\/1 = not ok, board init failed -\/2 = not ok, thread creation failed

no implemented\+: 1=OK, bus creation skipped since it exists already 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a2ef435a5fb9896dbb70bc0e149fa0549}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 211 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), Can\+Module\+::\+Log\+It\+Component\+Name, m\+\_\+h\+Can\+Scan\+Thread, m\+\_\+id\+Can\+Scan\+Thread, m\+\_\+log\+It\+Handle\+St, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+s\+Bus\+Name, and M\+L\+O\+G\+ST.

Here is the call graph for this function\+:
% FIG 5
\mbox{\Hypertarget{classSTCanScan_af6cf11abff5d1b39b35ceff9ae857270}\label{classSTCanScan_af6cf11abff5d1b39b35ceff9ae857270}} 
\index{STCanScan@{STCanScan}!createInitializationParameters@{createInitializationParameters}}
\index{createInitializationParameters@{createInitializationParameters}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{createInitializationParameters()}{createInitializationParameters()}}
{\footnotesize\ttfamily t\+Ucan\+Init\+Can\+Param S\+T\+Can\+Scan\+::create\+Initialization\+Parameters (\begin{DoxyParamCaption}\item[{unsigned int}]{baud\+Rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

We create and fill initialization\+Parameters, to pass it to open\+Can\+Port 

Definition at line 78 of file S\+T\+Can\+Scan.\+cpp.



Referenced by Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), and send\+Message().

\mbox{\Hypertarget{classSTCanScan_a54da665706336c8fab2f1c32b64056c5}\label{classSTCanScan_a54da665706336c8fab2f1c32b64056c5}} 
\index{STCanScan@{STCanScan}!errorCodeToString@{errorCodeToString}}
\index{errorCodeToString@{errorCodeToString}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{errorCodeToString()}{errorCodeToString()}}
{\footnotesize\ttfamily const char$\ast$ S\+T\+Can\+Scan\+::error\+Code\+To\+String (\begin{DoxyParamCaption}\item[{long}]{error }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 101 of file S\+T\+Can\+Scan.\+h.



Referenced by send\+Error\+Code().

\mbox{\Hypertarget{classSTCanScan_a29b4c3c8f29e45f808fbb7528e4593aa}\label{classSTCanScan_a29b4c3c8f29e45f808fbb7528e4593aa}} 
\index{STCanScan@{STCanScan}!getCanHandle@{getCanHandle}}
\index{getCanHandle@{getCanHandle}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getCanHandle()}{getCanHandle()}}
{\footnotesize\ttfamily static t\+Ucan\+Handle S\+T\+Can\+Scan\+::get\+Can\+Handle (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 106 of file S\+T\+Can\+Scan.\+h.



Referenced by open\+Can\+Port().

\mbox{\Hypertarget{classSTCanScan_a91743fa3da0804c3bf55e40c8c8da9b6}\label{classSTCanScan_a91743fa3da0804c3bf55e40c8c8da9b6}} 
\index{STCanScan@{STCanScan}!getPortBitrate@{getPortBitrate}}
\index{getPortBitrate@{getPortBitrate}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getPortBitrate()}{getPortBitrate()}}
{\footnotesize\ttfamily virtual uint32\+\_\+t S\+T\+Can\+Scan\+::get\+Port\+Bitrate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

returns the bitrate of that port \mbox{[}bits/sec\mbox{]} according to what \mbox{\hyperlink{namespaceCanModule}{Can\+Module}} buffers say. This is the setting used for setting up the hardware, after any default rules have been applied, but B\+E\+F\+O\+RE any vendor specific encoding into obscure bitpatterns occurs. This happens at port opening and the bitrate can only be changed at that moment. So please call this method just after you have opened the port. But also since there is no hw interaction and it just returns a buffer, you may call it as often as you like. 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aa8cb67096349fefc6e03aeb33e45ef81}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 61 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_a27eabd471d3bb8154dfadb677c66e1d5}\label{classSTCanScan_a27eabd471d3bb8154dfadb677c66e1d5}} 
\index{STCanScan@{STCanScan}!getPortStatus@{getPortStatus}}
\index{getPortStatus@{getPortStatus}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getPortStatus()}{getPortStatus()}}
{\footnotesize\ttfamily uint32\+\_\+t S\+T\+Can\+Scan\+::get\+Port\+Status (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

get C\+AN port and U\+SB status, code it into an int $>$ 200 (for windows@systec). use the A\+PI directly table19 says for C\+AN status\+: 0x0\+: no error 0x1\+: tx overrun 0x2\+: rx overrun 0x4\+: error limit1 exceeded\+: warning limit 0x8\+: error limit2 exceeded\+: error passive 0x10\+: can controller is off 0x40\+: rx buffer overrun 0x80\+: tx buffer overrun 0x400\+: transmit timeout, message dropped

table20 says for U\+SB status\+: 0x2000\+: module/usb got reset because of polling failure per second 0x4000\+: module/usb got reset because watchdog was not triggered 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a33fe530d070cf35d096e967d543186a4}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 372 of file S\+T\+Can\+Scan.\+cpp.



References C\+A\+N\+M\+O\+D\+U\+L\+E\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+B\+P\+\_\+\+S\+Y\+S\+T\+EC, and m\+\_\+\+Ucan\+Handle.

\mbox{\Hypertarget{classSTCanScan_a471b6a8617a57b974cb71a2dc540d370}\label{classSTCanScan_a471b6a8617a57b974cb71a2dc540d370}} 
\index{STCanScan@{STCanScan}!getReconnectAction@{getReconnectAction}}
\index{getReconnectAction@{getReconnectAction}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getReconnectAction()}{getReconnectAction()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}} S\+T\+Can\+Scan\+::get\+Reconnect\+Action (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

read back the r.\+action 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aaf2312ff9074ce7a4ec2e7d0a5b6fa16}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 71 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread().

\mbox{\Hypertarget{classSTCanScan_a01b70015904374f482647fbfb1806b08}\label{classSTCanScan_a01b70015904374f482647fbfb1806b08}} 
\index{STCanScan@{STCanScan}!getReconnectCondition@{getReconnectCondition}}
\index{getReconnectCondition@{getReconnectCondition}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getReconnectCondition()}{getReconnectCondition()}}
{\footnotesize\ttfamily virtual \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}} S\+T\+Can\+Scan\+::get\+Reconnect\+Condition (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

read back the r.\+condition 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a003566cbcdf4ce8195853bd8049a8800}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 70 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread().

\mbox{\Hypertarget{classSTCanScan_a4810249805b660c4e914247acbdf45d2}\label{classSTCanScan_a4810249805b660c4e914247acbdf45d2}} 
\index{STCanScan@{STCanScan}!getStatistics@{getStatistics}}
\index{getStatistics@{getStatistics}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{getStatistics()}{getStatistics()}}
{\footnotesize\ttfamily void S\+T\+Can\+Scan\+::get\+Statistics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} \&}]{result }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_ad3182c83b4c5d7e6aef982c36e731507}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 686 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Module\+::\+Can\+Statistics\+::begin\+New\+Run(), Can\+Module\+::\+Can\+Statistics\+::compute\+Derived(), m\+\_\+baud\+Rate, and m\+\_\+statistics.

Here is the call graph for this function\+:
% FIG 6
\mbox{\Hypertarget{classSTCanScan_a2f2a9aaa3ce2c653a4e1152eb8497493}\label{classSTCanScan_a2f2a9aaa3ce2c653a4e1152eb8497493}} 
\index{STCanScan@{STCanScan}!isCanHandleInUse@{isCanHandleInUse}}
\index{isCanHandleInUse@{isCanHandleInUse}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{isCanHandleInUse()}{isCanHandleInUse()}}
{\footnotesize\ttfamily static bool S\+T\+Can\+Scan\+::is\+Can\+Handle\+In\+Use (\begin{DoxyParamCaption}\item[{int}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 104 of file S\+T\+Can\+Scan.\+h.



Referenced by open\+Can\+Port().

\mbox{\Hypertarget{classSTCanScan_ab9c50de0ed0386a7826c6bbabafc4117}\label{classSTCanScan_ab9c50de0ed0386a7826c6bbabafc4117}} 
\index{STCanScan@{STCanScan}!logItHandle@{logItHandle}}
\index{logItHandle@{logItHandle}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{logItHandle()}{logItHandle()}}
{\footnotesize\ttfamily Log\+::\+Log\+Component\+Handle S\+T\+Can\+Scan\+::log\+It\+Handle (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 63 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_a5f74df7e9615929365b33c08e709e918}\label{classSTCanScan_a5f74df7e9615929365b33c08e709e918}} 
\index{STCanScan@{STCanScan}!openCanPort@{openCanPort}}
\index{openCanPort@{openCanPort}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{openCanPort()}{openCanPort()}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::open\+Can\+Port (\begin{DoxyParamCaption}\item[{t\+Ucan\+Init\+Can\+Param}]{initialization\+Parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

Obtains a Systec canport and opens it. The name of the port and parameters should have been specified by preceding call to configure\+Canboard()

\begin{DoxyReturn}{Returns}
less than zero in case of error, otherwise success 
\end{DoxyReturn}


Definition at line 321 of file S\+T\+Can\+Scan.\+cpp.



References get\+Can\+Handle(), is\+Can\+Handle\+In\+Use(), m\+\_\+channel\+Number, m\+\_\+module\+Number, m\+\_\+statistics, m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+ST, set\+Can\+Handle(), set\+Can\+Handle\+In\+Use(), and Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Opened().



Referenced by Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), and send\+Message().

Here is the call graph for this function\+:
% FIG 7
\mbox{\Hypertarget{classSTCanScan_a7c2d148e988e8b7e9df6b4ab0ed2dda1}\label{classSTCanScan_a7c2d148e988e8b7e9df6b4ab0ed2dda1}} 
\index{STCanScan@{STCanScan}!operator=@{operator=}}
\index{operator=@{operator=}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}}\& S\+T\+Can\+Scan\+::operator= (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classSTCanScan}{S\+T\+Can\+Scan}} const \&}]{other }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classSTCanScan_a50337fe307a73461cce620c6cb6b8fe9}\label{classSTCanScan_a50337fe307a73461cce620c6cb6b8fe9}} 
\index{STCanScan@{STCanScan}!reconnectAllPorts@{reconnectAllPorts}}
\index{reconnectAllPorts@{reconnectAllPorts}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{reconnectAllPorts()}{reconnectAllPorts()}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::reconnect\+All\+Ports (\begin{DoxyParamCaption}\item[{t\+Ucan\+Handle}]{h }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}

hard reset the bridge and reconnect all ports and handlers\+: windows 

Definition at line 398 of file S\+T\+Can\+Scan.\+cpp.



References m\+\_\+module\+Number, and m\+\_\+\+Ucan\+Handle.



Referenced by send\+Message().

\mbox{\Hypertarget{classSTCanScan_a43454c0bc20eb764cbb4ef3dd5e52cc9}\label{classSTCanScan_a43454c0bc20eb764cbb4ef3dd5e52cc9}} 
\index{STCanScan@{STCanScan}!sendErrorCode@{sendErrorCode}}
\index{sendErrorCode@{sendErrorCode}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{sendErrorCode()}{sendErrorCode()}}
{\footnotesize\ttfamily bool S\+T\+Can\+Scan\+::send\+Error\+Code (\begin{DoxyParamCaption}\item[{long}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 380 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Module\+::\+C\+Can\+Access\+::can\+Message\+Error, Can\+Module\+::convert\+Timepoint\+To\+Timeval(), Can\+Module\+::current\+Time\+Timeval(), error\+Code\+To\+String(), and m\+\_\+bus\+Status.



Referenced by Can\+Scan\+Control\+Thread(), send\+Message(), and send\+Remote\+Request().

Here is the call graph for this function\+:
% FIG 8
\mbox{\Hypertarget{classSTCanScan_a45f0ec011022bf58a23e8370bac7f829}\label{classSTCanScan_a45f0ec011022bf58a23e8370bac7f829}} 
\index{STCanScan@{STCanScan}!sendMessage@{sendMessage}}
\index{sendMessage@{sendMessage}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{sendMessage()}{sendMessage()}}
{\footnotesize\ttfamily bool S\+T\+Can\+Scan\+::send\+Message (\begin{DoxyParamCaption}\item[{short}]{cob\+ID,  }\item[{unsigned char}]{len,  }\item[{unsigned char $\ast$}]{message,  }\item[{bool}]{rtr = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Method that sends a message trough the can bus channel. If the method create\+B\+US was not called before this, send\+Message will fail, as there is no can bus channel to send a message through.


\begin{DoxyParams}{Parameters}
{\em cob\+ID} & Identifier that will be used for the message. \\
\hline
{\em len} & Length of the message. If the message is bigger than 8 characters, it will be split into separate 8 characters messages. \\
\hline
{\em message} & Message to be sent trough the can bus. \\
\hline
{\em rtr} & is the message a remote transmission request? \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Was the sending process successful? 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_aee42ab7fb9e50c02a1812202f7863d8c}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 431 of file S\+T\+Can\+Scan.\+cpp.



References Can\+Module\+::all\+Buses\+On\+Bridge, Can\+Module\+::can\+Message2\+To\+String(), create\+Initialization\+Parameters(), m\+\_\+baud\+Rate, m\+\_\+channel\+Number, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+failed\+Send\+Countdown, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+max\+Failed\+Send\+Count, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+reconnect\+Action, Can\+Module\+::\+C\+Can\+Access\+::m\+\_\+reconnect\+Condition, m\+\_\+statistics, m\+\_\+\+Ucan\+Handle, M\+L\+O\+G\+ST, Can\+Module\+::never, Can\+Module\+::\+Can\+Statistics\+::on\+Transmit(), open\+Can\+Port(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Action\+String(), reconnect\+All\+Ports(), Can\+Module\+::\+C\+Can\+Access\+::reconnect\+Condition\+String(), send\+Error\+Code(), Can\+Module\+::send\+Fail, Can\+Module\+::\+Can\+Statistics\+::set\+Time\+Since\+Transmitted(), and Can\+Module\+::single\+Bus.

Here is the call graph for this function\+:
% FIG 9
\mbox{\Hypertarget{classSTCanScan_a2c1de002fa7ace90ef95af00f824c8e4}\label{classSTCanScan_a2c1de002fa7ace90ef95af00f824c8e4}} 
\index{STCanScan@{STCanScan}!sendRemoteRequest@{sendRemoteRequest}}
\index{sendRemoteRequest@{sendRemoteRequest}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{sendRemoteRequest()}{sendRemoteRequest()}}
{\footnotesize\ttfamily bool S\+T\+Can\+Scan\+::send\+Remote\+Request (\begin{DoxyParamCaption}\item[{short}]{cob\+ID }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Method that sends a remote request trough the can bus channel. If the method create\+Bus was not called before this, send\+Message will fail, as there is no can bus channel to send the request trough. Similar to send\+Message, but it sends an special message reserved for requests. 
\begin{DoxyParams}{Parameters}
{\em cob\+ID} & Identifier that will be used for the request. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: Was the initialisation process successful? 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_acfefbc9be2696b1388cf6df2bba00aa1}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 513 of file S\+T\+Can\+Scan.\+cpp.



References m\+\_\+channel\+Number, m\+\_\+\+Ucan\+Handle, and send\+Error\+Code().

Here is the call graph for this function\+:
% FIG 10
\mbox{\Hypertarget{classSTCanScan_a50f89ce5fc0b2961937dc8a4b86081f8}\label{classSTCanScan_a50f89ce5fc0b2961937dc8a4b86081f8}} 
\index{STCanScan@{STCanScan}!setCanHandle@{setCanHandle}}
\index{setCanHandle@{setCanHandle}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{setCanHandle()}{setCanHandle()}}
{\footnotesize\ttfamily static void S\+T\+Can\+Scan\+::set\+Can\+Handle (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{t\+Ucan\+Handle}]{tU }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 105 of file S\+T\+Can\+Scan.\+h.



Referenced by open\+Can\+Port().

\mbox{\Hypertarget{classSTCanScan_ae29a23d161c115f173cbdb3a807c895e}\label{classSTCanScan_ae29a23d161c115f173cbdb3a807c895e}} 
\index{STCanScan@{STCanScan}!setCanHandleInUse@{setCanHandleInUse}}
\index{setCanHandleInUse@{setCanHandleInUse}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{setCanHandleInUse()}{setCanHandleInUse()}}
{\footnotesize\ttfamily static void S\+T\+Can\+Scan\+::set\+Can\+Handle\+In\+Use (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{bool}]{t }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 103 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), and open\+Can\+Port().

\mbox{\Hypertarget{classSTCanScan_a17bfbbb7ad6c03fc1ec9ef5f6fed0d3f}\label{classSTCanScan_a17bfbbb7ad6c03fc1ec9ef5f6fed0d3f}} 
\index{STCanScan@{STCanScan}!setReconnectBehavior@{setReconnectBehavior}}
\index{setReconnectBehavior@{setReconnectBehavior}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectBehavior()}{setReconnectBehavior()}}
{\footnotesize\ttfamily virtual void S\+T\+Can\+Scan\+::set\+Reconnect\+Behavior (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}}}]{cond,  }\item[{\mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}}}]{action }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

configuring the reconnection behavior\+: a condition triggers an action. The implementation is implementation-\/specific because not all vendor A\+P\+Is permit the same behavior\+: not all combinations are available for all vendors/implementations. The implemented reconnection behavior is standardized nevertheless\+: \char`\"{}you get what you see\char`\"{}. Foe each Can\+Bus you have to choose one condition and one action. Condition detection and action execution are then automatic inside \mbox{\hyperlink{namespaceCanModule}{Can\+Module}}.


\begin{DoxyParams}{Parameters}
{\em \mbox{\hyperlink{namespaceCanModule_a2f4fee79cc7ba53467c2538fe6b9adbb}{Can\+Module\+::\+Reconnect\+Auto\+Condition}}} & cond
\begin{DoxyItemize}
\item send\+Fail (default)\+: a reconnection is triggered automatically if a send on the can\+Bus fails. The number of failed sends can be set (default is 10). The failed sending must be strictly consecutive, if there is a succeeded sending, the internal counting restarts.
\item timeout\+On\+Reception\+: the last time of a successful reception on a given channel can be monitored. If the last reception is older than 120 sec a reset is triggered automatically. This last successful reception time is calculated each time a send is invoked. The timeout is specified in seconds, default is 120sec.
\item never\+: this condition is always false and therefore no automatic reconnection action will be triggered. You can still call the explicit method reconnect( $<$action$>$ ) but it is up to the client (server) to decide when.
\end{DoxyItemize}\\
\hline
{\em \mbox{\hyperlink{namespaceCanModule_a2062089fa4fa87c8354295f2a8fe31a5}{Can\+Module\+::\+Reconnect\+Action}}} & action
\begin{DoxyItemize}
\item single\+Bus (default)\+: a single connection (canbus, channel) is reset and reception handler is reconnected.
\item whole\+Bridge if available, the whole bridge is reset, affecting all physical channels on that bridge. Only available for anagate. If a bridge is shared between multiple tasks, all channels across tasks are reset, affecting all tasks connected to that bridge. Evidently, a given channel must only be used by at most one task. 
\end{DoxyItemize}\\
\hline
\end{DoxyParams}


Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_ae1088edaf5444ff42ee094ae46240cc5}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 64 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_a2525cc89387ee92ce7e62be414d3c83e}\label{classSTCanScan_a2525cc89387ee92ce7e62be414d3c83e}} 
\index{STCanScan@{STCanScan}!setReconnectFailedSendCount@{setReconnectFailedSendCount}}
\index{setReconnectFailedSendCount@{setReconnectFailedSendCount}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectFailedSendCount()}{setReconnectFailedSendCount()}}
{\footnotesize\ttfamily virtual void S\+T\+Can\+Scan\+::set\+Reconnect\+Failed\+Send\+Count (\begin{DoxyParamCaption}\item[{unsigned int}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

set the counter for failed consecutive sending attempts, for reconnection. default is 10. 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a665620fe5924cf87db0589a353d3d148}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 69 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_adca4386c1a008644c27f1d8e7c395272}\label{classSTCanScan_adca4386c1a008644c27f1d8e7c395272}} 
\index{STCanScan@{STCanScan}!setReconnectReceptionTimeout@{setReconnectReceptionTimeout}}
\index{setReconnectReceptionTimeout@{setReconnectReceptionTimeout}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{setReconnectReceptionTimeout()}{setReconnectReceptionTimeout()}}
{\footnotesize\ttfamily virtual void S\+T\+Can\+Scan\+::set\+Reconnect\+Reception\+Timeout (\begin{DoxyParamCaption}\item[{unsigned int}]{timeout }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}

set the timout interval for message reception, for the reconnection behaviour. Units is seconds, default is 120. 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a3c902569c0712d165fc7e385e683dc95}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 68 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_a794110572725db6b7c153104ee1330b3}\label{classSTCanScan_a794110572725db6b7c153104ee1330b3}} 
\index{STCanScan@{STCanScan}!STcanGetErrorText@{STcanGetErrorText}}
\index{STcanGetErrorText@{STcanGetErrorText}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{STcanGetErrorText()}{STcanGetErrorText()}}
{\footnotesize\ttfamily std\+::string S\+T\+Can\+Scan\+::\+S\+Tcan\+Get\+Error\+Text (\begin{DoxyParamCaption}\item[{long}]{err\+Code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

error text specific to S\+Tcan according to table24 I am just copying the whole descriptions from the doc, verbatim, wtf. you get some shakespeare from it. 

Definition at line 530 of file S\+T\+Can\+Scan.\+cpp.

\mbox{\Hypertarget{classSTCanScan_ae88b966c3c318eca384385c5a85cf2d7}\label{classSTCanScan_ae88b966c3c318eca384385c5a85cf2d7}} 
\index{STCanScan@{STCanScan}!stopBus@{stopBus}}
\index{stopBus@{stopBus}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{stopBus()}{stopBus()}}
{\footnotesize\ttfamily void S\+T\+Can\+Scan\+::stop\+Bus (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

force implementation 

Implements \mbox{\hyperlink{classCanModule_1_1CCanAccess_a3fabe88b8e21638afd5d9886bb9c4aeb}{Can\+Module\+::\+C\+Can\+Access}}.



Definition at line 58 of file S\+T\+Can\+Scan.\+cpp.

\mbox{\Hypertarget{classSTCanScan_aa57c48594c8a70a0331f07fb4ad208fd}\label{classSTCanScan_aa57c48594c8a70a0331f07fb4ad208fd}} 
\index{STCanScan@{STCanScan}!vendorBaudRate2UserBaudRate@{vendorBaudRate2UserBaudRate}}
\index{vendorBaudRate2UserBaudRate@{vendorBaudRate2UserBaudRate}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{vendorBaudRate2UserBaudRate()}{vendorBaudRate2UserBaudRate()}}
{\footnotesize\ttfamily unsigned int S\+T\+Can\+Scan\+::vendor\+Baud\+Rate2\+User\+Baud\+Rate (\begin{DoxyParamCaption}\item[{unsigned int}]{vb }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

unfortunately it is necessary to convert the vendor baudrate back to the human readable user baudrate for statistics. we use presently O\+N\+LY G1/\+G2 boards (see usbcan.\+h) 

Definition at line 293 of file S\+T\+Can\+Scan.\+cpp.



References M\+L\+O\+G\+ST.



Referenced by configure\+Can\+Board().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classSTCanScan_add0582f666b4f0a5883311a284a0e9c4}\label{classSTCanScan_add0582f666b4f0a5883311a284a0e9c4}} 
\index{STCanScan@{STCanScan}!m\_baudRate@{m\_baudRate}}
\index{m\_baudRate@{m\_baudRate}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_baudRate}{m\_baudRate}}
{\footnotesize\ttfamily unsigned int S\+T\+Can\+Scan\+::m\+\_\+baud\+Rate\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 81 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), get\+Statistics(), and send\+Message().

\mbox{\Hypertarget{classSTCanScan_aa1c2f27f78da63fc7d1f542f818b9624}\label{classSTCanScan_aa1c2f27f78da63fc7d1f542f818b9624}} 
\index{STCanScan@{STCanScan}!m\_busStatus@{m\_busStatus}}
\index{m\_busStatus@{m\_busStatus}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_busStatus}{m\_busStatus}}
{\footnotesize\ttfamily \mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} S\+T\+Can\+Scan\+::m\+\_\+bus\+Status\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 85 of file S\+T\+Can\+Scan.\+h.



Referenced by send\+Error\+Code().

\mbox{\Hypertarget{classSTCanScan_a8d6dd7c1cbf4a97607909086da6361e1}\label{classSTCanScan_a8d6dd7c1cbf4a97607909086da6361e1}} 
\index{STCanScan@{STCanScan}!m\_canHandleNumber@{m\_canHandleNumber}}
\index{m\_canHandleNumber@{m\_canHandleNumber}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_canHandleNumber}{m\_canHandleNumber}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::m\+\_\+can\+Handle\+Number\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 78 of file S\+T\+Can\+Scan.\+h.



Referenced by configure\+Can\+Board().

\mbox{\Hypertarget{classSTCanScan_abd418113d56ef882bb12cd7473d031e1}\label{classSTCanScan_abd418113d56ef882bb12cd7473d031e1}} 
\index{STCanScan@{STCanScan}!m\_CanScanThreadShutdownFlag@{m\_CanScanThreadShutdownFlag}}
\index{m\_CanScanThreadShutdownFlag@{m\_CanScanThreadShutdownFlag}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_CanScanThreadShutdownFlag}{m\_CanScanThreadShutdownFlag}}
{\footnotesize\ttfamily bool S\+T\+Can\+Scan\+::m\+\_\+\+Can\+Scan\+Thread\+Shutdown\+Flag\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 86 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), and $\sim$\+S\+T\+Can\+Scan().

\mbox{\Hypertarget{classSTCanScan_ac5e311e695c1a3c810f82b0c21ee3618}\label{classSTCanScan_ac5e311e695c1a3c810f82b0c21ee3618}} 
\index{STCanScan@{STCanScan}!m\_channelNumber@{m\_channelNumber}}
\index{m\_channelNumber@{m\_channelNumber}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_channelNumber}{m\_channelNumber}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::m\+\_\+channel\+Number\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), open\+Can\+Port(), send\+Message(), send\+Remote\+Request(), and $\sim$\+S\+T\+Can\+Scan().

\mbox{\Hypertarget{classSTCanScan_a2a57272e12f97f245e6f204347782bc0}\label{classSTCanScan_a2a57272e12f97f245e6f204347782bc0}} 
\index{STCanScan@{STCanScan}!m\_hCanScanThread@{m\_hCanScanThread}}
\index{m\_hCanScanThread@{m\_hCanScanThread}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_hCanScanThread}{m\_hCanScanThread}}
{\footnotesize\ttfamily H\+A\+N\+D\+LE S\+T\+Can\+Scan\+::m\+\_\+h\+Can\+Scan\+Thread\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 88 of file S\+T\+Can\+Scan.\+h.



Referenced by create\+Bus(), and $\sim$\+S\+T\+Can\+Scan().

\mbox{\Hypertarget{classSTCanScan_a8ae65fcef31d4bb84aa5bb8978973f86}\label{classSTCanScan_a8ae65fcef31d4bb84aa5bb8978973f86}} 
\index{STCanScan@{STCanScan}!m\_idCanScanThread@{m\_idCanScanThread}}
\index{m\_idCanScanThread@{m\_idCanScanThread}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_idCanScanThread}{m\_idCanScanThread}}
{\footnotesize\ttfamily \mbox{\hyperlink{AnaCanScan_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} S\+T\+Can\+Scan\+::m\+\_\+id\+Can\+Scan\+Thread\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 90 of file S\+T\+Can\+Scan.\+h.



Referenced by create\+Bus().

\mbox{\Hypertarget{classSTCanScan_acf5dfe6c253afa4e08e883f8177e2eb3}\label{classSTCanScan_acf5dfe6c253afa4e08e883f8177e2eb3}} 
\index{STCanScan@{STCanScan}!m\_logItHandleSt@{m\_logItHandleSt}}
\index{m\_logItHandleSt@{m\_logItHandleSt}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_logItHandleSt}{m\_logItHandleSt}}
{\footnotesize\ttfamily Log\+::\+Log\+Component\+Handle S\+T\+Can\+Scan\+::m\+\_\+log\+It\+Handle\+St\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 82 of file S\+T\+Can\+Scan.\+h.



Referenced by create\+Bus().

\mbox{\Hypertarget{classSTCanScan_a38531e0fcde0f184eb968a01fb5984c9}\label{classSTCanScan_a38531e0fcde0f184eb968a01fb5984c9}} 
\index{STCanScan@{STCanScan}!m\_moduleNumber@{m\_moduleNumber}}
\index{m\_moduleNumber@{m\_moduleNumber}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_moduleNumber}{m\_moduleNumber}}
{\footnotesize\ttfamily int S\+T\+Can\+Scan\+::m\+\_\+module\+Number\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), configure\+Can\+Board(), open\+Can\+Port(), and reconnect\+All\+Ports().

\mbox{\Hypertarget{classSTCanScan_a93abd76cf68726a0bfa4b9d3982ec9aa}\label{classSTCanScan_a93abd76cf68726a0bfa4b9d3982ec9aa}} 
\index{STCanScan@{STCanScan}!m\_statistics@{m\_statistics}}
\index{m\_statistics@{m\_statistics}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_statistics}{m\_statistics}}
{\footnotesize\ttfamily \mbox{\hyperlink{classCanModule_1_1CanStatistics}{Can\+Statistics}} S\+T\+Can\+Scan\+::m\+\_\+statistics\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 80 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), get\+Statistics(), open\+Can\+Port(), send\+Message(), and S\+T\+Can\+Scan().

\mbox{\Hypertarget{classSTCanScan_add94dcac99b3ba3a17cb3708fd0cd20d}\label{classSTCanScan_add94dcac99b3ba3a17cb3708fd0cd20d}} 
\index{STCanScan@{STCanScan}!m\_UcanHandle@{m\_UcanHandle}}
\index{m\_UcanHandle@{m\_UcanHandle}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{m\_UcanHandle}{m\_UcanHandle}}
{\footnotesize\ttfamily t\+Ucan\+Handle S\+T\+Can\+Scan\+::m\+\_\+\+Ucan\+Handle\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file S\+T\+Can\+Scan.\+h.



Referenced by Can\+Scan\+Control\+Thread(), get\+Port\+Status(), open\+Can\+Port(), reconnect\+All\+Ports(), send\+Message(), send\+Remote\+Request(), and $\sim$\+S\+T\+Can\+Scan().

\mbox{\Hypertarget{classSTCanScan_ac3f6c36fec9666c086da47f241f75dba}\label{classSTCanScan_ac3f6c36fec9666c086da47f241f75dba}} 
\index{STCanScan@{STCanScan}!s\_canHandleArray@{s\_canHandleArray}}
\index{s\_canHandleArray@{s\_canHandleArray}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{s\_canHandleArray}{s\_canHandleArray}}
{\footnotesize\ttfamily t\+Ucan\+Handle S\+T\+Can\+Scan\+::s\+\_\+can\+Handle\+Array\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 108 of file S\+T\+Can\+Scan.\+h.

\mbox{\Hypertarget{classSTCanScan_a310439aeb8688c29fb3fe8faa4a9e198}\label{classSTCanScan_a310439aeb8688c29fb3fe8faa4a9e198}} 
\index{STCanScan@{STCanScan}!s\_isCanHandleInUseArray@{s\_isCanHandleInUseArray}}
\index{s\_isCanHandleInUseArray@{s\_isCanHandleInUseArray}!STCanScan@{STCanScan}}
\doxysubsubsection{\texorpdfstring{s\_isCanHandleInUseArray}{s\_isCanHandleInUseArray}}
{\footnotesize\ttfamily bool S\+T\+Can\+Scan\+::s\+\_\+is\+Can\+Handle\+In\+Use\+Array\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



The macro below is applicable only to this translation unit. 

© Copyright C\+E\+RN, 2015. All rights not expressly granted are reserved.

S\+T\+Can\+Scap.\+cpp

Created on\+: Jul 21, 2011 Based on work by vfilimon Rework and logging done by Piotr Nikiel \href{mailto:piotr@nikiel.info}{\texttt{ piotr@nikiel.\+info}} mludwig at cern dot ch

This file is part of Quasar.

Quasar is free software\+: you can redistribute it and/or modify it under the terms of the G\+NU Lesser General Public Licence as published by the Free Software Foundation, either version 3 of the Licence.

Quasar is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU Lesser General Public Licence for more details.

You should have received a copy of the G\+NU Lesser General Public License along with Quasar. If not, see \href{http://www.gnu.org/licenses/}{\texttt{ http\+://www.\+gnu.\+org/licenses/}}. 

Definition at line 109 of file S\+T\+Can\+Scan.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Can\+Interface\+Implementations/systec/\mbox{\hyperlink{STCanScan_8h}{S\+T\+Can\+Scan.\+h}}\item 
Can\+Interface\+Implementations/systec/\mbox{\hyperlink{STCanScan_8cpp}{S\+T\+Can\+Scan.\+cpp}}\end{DoxyCompactItemize}
